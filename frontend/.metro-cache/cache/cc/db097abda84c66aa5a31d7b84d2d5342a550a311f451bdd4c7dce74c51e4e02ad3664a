{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":87,"index":132}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":40,"index":173}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useProducts\", {\n    enumerable: true,\n    get: function () {\n      return useProducts;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _firebaseFirestore = require(_dependencyMap[3], \"firebase/firestore\");\n  var _configFirebase = require(_dependencyMap[4], \"../config/firebase\");\n  var useProducts = function (categoryId) {\n    _s();\n    var limitCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n    var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n    (0, _react.useEffect)(() => {\n      fetchProducts();\n    }, [categoryId, limitCount]);\n    var fetchProducts = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          setLoading(true);\n          setError(null);\n          var q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n\n          // Filter by category if provided\n          if (categoryId && categoryId !== 'all') {\n            q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.where)('categoryId', '==', categoryId), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n          }\n          var querySnapshot = yield (0, _firebaseFirestore.getDocs)(q);\n          var productsData = [];\n          querySnapshot.forEach(doc => {\n            var data = doc.data();\n            productsData.push({\n              id: doc.id,\n              name: data.name || '',\n              imageUrl: data.imageUrl || data.images?.[0] || '',\n              wholesalePrice: data.wholesalePrice || 0,\n              tags: data.tags || [],\n              status: data.stock > 0 ? 'متوفر' : 'غير متوفر',\n              category: data.category,\n              stock: data.stock || 0,\n              minOrder: data.minOrder || 1,\n              description: data.description || ''\n            });\n          });\n          setProducts(productsData);\n        } catch (err) {\n          console.error('Error fetching products:', err);\n          setError(err.message || 'حدث خطأ في جلب المنتجات');\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function fetchProducts() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var refetch = () => {\n      fetchProducts();\n    };\n    return {\n      products,\n      loading,\n      error,\n      refetch\n    };\n  };\n  _s(useProducts, \"3+N/VFIgZOBgubN9oS5aTzm2qqY=\");\n});","lineCount":95,"map":[[13,2,18,0,"Object"],[13,8,18,0],[13,9,18,0,"defineProperty"],[13,23,18,0],[13,24,18,0,"exports"],[13,31,18,0],[14,4,18,0,"enumerable"],[14,14,18,0],[15,4,18,0,"get"],[15,7,18,0],[15,18,18,0,"get"],[15,19,18,0],[16,6,18,0],[16,13,18,0,"useProducts"],[16,24,18,0],[17,4,18,0],[18,2,18,0],[19,2,81,2],[19,6,81,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,81,2],[19,45,81,2,"require"],[19,52,81,2],[19,53,81,2,"_dependencyMap"],[19,67,81,2],[20,2,81,2],[20,6,81,2,"_asyncToGenerator"],[20,23,81,2],[20,26,81,2,"_interopDefault"],[20,41,81,2],[20,42,81,2,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,81,2],[21,2,81,2],[21,6,81,2,"_babelRuntimeHelpersSlicedToArray"],[21,39,81,2],[21,42,81,2,"require"],[21,49,81,2],[21,50,81,2,"_dependencyMap"],[21,64,81,2],[22,2,81,2],[22,6,81,2,"_slicedToArray"],[22,20,81,2],[22,23,81,2,"_interopDefault"],[22,38,81,2],[22,39,81,2,"_babelRuntimeHelpersSlicedToArray"],[22,72,81,2],[23,2,1,0],[23,6,1,0,"_react"],[23,12,1,0],[23,15,1,0,"require"],[23,22,1,0],[23,23,1,0,"_dependencyMap"],[23,37,1,0],[24,2,2,0],[24,6,2,0,"_firebaseFirestore"],[24,24,2,0],[24,27,2,0,"require"],[24,34,2,0],[24,35,2,0,"_dependencyMap"],[24,49,2,0],[25,2,3,0],[25,6,3,0,"_configFirebase"],[25,21,3,0],[25,24,3,0,"require"],[25,31,3,0],[25,32,3,0,"_dependencyMap"],[25,46,3,0],[26,2,18,7],[26,6,18,13,"useProducts"],[26,17,18,24],[26,20,18,27],[26,29,18,27,"useProducts"],[26,30,18,28,"categoryId"],[26,40,18,47],[26,42,18,77],[27,4,18,77,"_s"],[27,6,18,77],[28,4,18,77],[28,8,18,49,"limitCount"],[28,18,18,67],[28,21,18,67,"arguments"],[28,30,18,67],[28,31,18,67,"length"],[28,37,18,67],[28,45,18,67,"arguments"],[28,54,18,67],[28,62,18,67,"undefined"],[28,71,18,67],[28,74,18,67,"arguments"],[28,83,18,67],[28,89,18,70],[28,91,18,72],[29,4,19,2],[29,8,19,2,"_useState"],[29,17,19,2],[29,20,19,34],[29,24,19,34,"useState"],[29,30,19,42],[29,31,19,42,"useState"],[29,39,19,42],[29,41,19,54],[29,43,19,56],[29,44,19,57],[30,6,19,57,"_useState2"],[30,16,19,57],[30,23,19,57,"_slicedToArray"],[30,37,19,57],[30,38,19,57,"default"],[30,45,19,57],[30,47,19,57,"_useState"],[30,56,19,57],[31,6,19,9,"products"],[31,14,19,17],[31,17,19,17,"_useState2"],[31,27,19,17],[32,6,19,19,"setProducts"],[32,17,19,30],[32,20,19,30,"_useState2"],[32,30,19,30],[33,4,20,2],[33,8,20,2,"_useState3"],[33,18,20,2],[33,21,20,32],[33,25,20,32,"useState"],[33,31,20,40],[33,32,20,40,"useState"],[33,40,20,40],[33,42,20,41],[33,46,20,45],[33,47,20,46],[34,6,20,46,"_useState4"],[34,16,20,46],[34,23,20,46,"_slicedToArray"],[34,37,20,46],[34,38,20,46,"default"],[34,45,20,46],[34,47,20,46,"_useState3"],[34,57,20,46],[35,6,20,9,"loading"],[35,13,20,16],[35,16,20,16,"_useState4"],[35,26,20,16],[36,6,20,18,"setLoading"],[36,16,20,28],[36,19,20,28,"_useState4"],[36,29,20,28],[37,4,21,2],[37,8,21,2,"_useState5"],[37,18,21,2],[37,21,21,28],[37,25,21,28,"useState"],[37,31,21,36],[37,32,21,36,"useState"],[37,40,21,36],[37,42,21,52],[37,46,21,56],[37,47,21,57],[38,6,21,57,"_useState6"],[38,16,21,57],[38,23,21,57,"_slicedToArray"],[38,37,21,57],[38,38,21,57,"default"],[38,45,21,57],[38,47,21,57,"_useState5"],[38,57,21,57],[39,6,21,9,"error"],[39,11,21,14],[39,14,21,14,"_useState6"],[39,24,21,14],[40,6,21,16,"setError"],[40,14,21,24],[40,17,21,24,"_useState6"],[40,27,21,24],[41,4,23,2],[41,8,23,2,"useEffect"],[41,14,23,11],[41,15,23,11,"useEffect"],[41,24,23,11],[41,26,23,12],[41,32,23,18],[42,6,24,4,"fetchProducts"],[42,19,24,17],[42,20,24,18],[42,21,24,19],[43,4,25,2],[43,5,25,3],[43,7,25,5],[43,8,25,6,"categoryId"],[43,18,25,16],[43,20,25,18,"limitCount"],[43,30,25,28],[43,31,25,29],[43,32,25,30],[44,4,27,2],[44,8,27,8,"fetchProducts"],[44,21,27,21],[45,6,27,21],[45,10,27,21,"_ref"],[45,14,27,21],[45,21,27,21,"_asyncToGenerator"],[45,38,27,21],[45,39,27,21,"default"],[45,46,27,21],[45,48,27,24],[45,61,27,36],[46,8,28,4],[46,12,28,8],[47,10,29,6,"setLoading"],[47,20,29,16],[47,21,29,17],[47,25,29,21],[47,26,29,22],[48,10,30,6,"setError"],[48,18,30,14],[48,19,30,15],[48,23,30,19],[48,24,30,20],[49,10,32,6],[49,14,32,10,"q"],[49,15,32,11],[49,18,32,14],[49,22,32,14,"query"],[49,40,32,19],[49,41,32,19,"query"],[49,46,32,19],[49,48,33,8],[49,52,33,8,"collection"],[49,70,33,18],[49,71,33,18,"collection"],[49,81,33,18],[49,83,33,19,"db"],[49,98,33,21],[49,99,33,21,"db"],[49,101,33,21],[49,103,33,23],[49,113,33,33],[49,114,33,34],[49,116,34,8],[49,120,34,8,"orderBy"],[49,138,34,15],[49,139,34,15,"orderBy"],[49,146,34,15],[49,148,34,16],[49,159,34,27],[49,161,34,29],[49,167,34,35],[49,168,34,36],[49,170,35,8],[49,174,35,8,"limit"],[49,192,35,13],[49,193,35,13,"limit"],[49,198,35,13],[49,200,35,14,"limitCount"],[49,210,35,24],[49,211,36,6],[49,212,36,7],[51,10,38,6],[52,10,39,6],[52,14,39,10,"categoryId"],[52,24,39,20],[52,28,39,24,"categoryId"],[52,38,39,34],[52,43,39,39],[52,48,39,44],[52,50,39,46],[53,12,40,8,"q"],[53,13,40,9],[53,16,40,12],[53,20,40,12,"query"],[53,38,40,17],[53,39,40,17,"query"],[53,44,40,17],[53,46,41,10],[53,50,41,10,"collection"],[53,68,41,20],[53,69,41,20,"collection"],[53,79,41,20],[53,81,41,21,"db"],[53,96,41,23],[53,97,41,23,"db"],[53,99,41,23],[53,101,41,25],[53,111,41,35],[53,112,41,36],[53,114,42,10],[53,118,42,10,"where"],[53,136,42,15],[53,137,42,15,"where"],[53,142,42,15],[53,144,42,16],[53,156,42,28],[53,158,42,30],[53,162,42,34],[53,164,42,36,"categoryId"],[53,174,42,46],[53,175,42,47],[53,177,43,10],[53,181,43,10,"orderBy"],[53,199,43,17],[53,200,43,17,"orderBy"],[53,207,43,17],[53,209,43,18],[53,220,43,29],[53,222,43,31],[53,228,43,37],[53,229,43,38],[53,231,44,10],[53,235,44,10,"limit"],[53,253,44,15],[53,254,44,15,"limit"],[53,259,44,15],[53,261,44,16,"limitCount"],[53,271,44,26],[53,272,45,8],[53,273,45,9],[54,10,46,6],[55,10,48,6],[55,14,48,12,"querySnapshot"],[55,27,48,25],[55,36,48,34],[55,40,48,34,"getDocs"],[55,58,48,41],[55,59,48,41,"getDocs"],[55,66,48,41],[55,68,48,42,"q"],[55,69,48,43],[55,70,48,44],[56,10,49,6],[56,14,49,12,"productsData"],[56,26,49,35],[56,29,49,38],[56,31,49,40],[57,10,51,6,"querySnapshot"],[57,23,51,19],[57,24,51,20,"forEach"],[57,31,51,27],[57,32,51,29,"doc"],[57,35,51,32],[57,39,51,37],[58,12,52,8],[58,16,52,14,"data"],[58,20,52,18],[58,23,52,21,"doc"],[58,26,52,24],[58,27,52,25,"data"],[58,31,52,29],[58,32,52,30],[58,33,52,31],[59,12,53,8,"productsData"],[59,24,53,20],[59,25,53,21,"push"],[59,29,53,25],[59,30,53,26],[60,14,54,10,"id"],[60,16,54,12],[60,18,54,14,"doc"],[60,21,54,17],[60,22,54,18,"id"],[60,24,54,20],[61,14,55,10,"name"],[61,18,55,14],[61,20,55,16,"data"],[61,24,55,20],[61,25,55,21,"name"],[61,29,55,25],[61,33,55,29],[61,35,55,31],[62,14,56,10,"imageUrl"],[62,22,56,18],[62,24,56,20,"data"],[62,28,56,24],[62,29,56,25,"imageUrl"],[62,37,56,33],[62,41,56,37,"data"],[62,45,56,41],[62,46,56,42,"images"],[62,52,56,48],[62,55,56,51],[62,56,56,52],[62,57,56,53],[62,61,56,57],[62,63,56,59],[63,14,57,10,"wholesalePrice"],[63,28,57,24],[63,30,57,26,"data"],[63,34,57,30],[63,35,57,31,"wholesalePrice"],[63,49,57,45],[63,53,57,49],[63,54,57,50],[64,14,58,10,"tags"],[64,18,58,14],[64,20,58,16,"data"],[64,24,58,20],[64,25,58,21,"tags"],[64,29,58,25],[64,33,58,29],[64,35,58,31],[65,14,59,10,"status"],[65,20,59,16],[65,22,59,18,"data"],[65,26,59,22],[65,27,59,23,"stock"],[65,32,59,28],[65,35,59,31],[65,36,59,32],[65,39,59,35],[65,46,59,42],[65,49,59,45],[65,60,59,56],[66,14,60,10,"category"],[66,22,60,18],[66,24,60,20,"data"],[66,28,60,24],[66,29,60,25,"category"],[66,37,60,33],[67,14,61,10,"stock"],[67,19,61,15],[67,21,61,17,"data"],[67,25,61,21],[67,26,61,22,"stock"],[67,31,61,27],[67,35,61,31],[67,36,61,32],[68,14,62,10,"minOrder"],[68,22,62,18],[68,24,62,20,"data"],[68,28,62,24],[68,29,62,25,"minOrder"],[68,37,62,33],[68,41,62,37],[68,42,62,38],[69,14,63,10,"description"],[69,25,63,21],[69,27,63,23,"data"],[69,31,63,27],[69,32,63,28,"description"],[69,43,63,39],[69,47,63,43],[70,12,64,8],[70,13,64,9],[70,14,64,10],[71,10,65,6],[71,11,65,7],[71,12,65,8],[72,10,67,6,"setProducts"],[72,21,67,17],[72,22,67,18,"productsData"],[72,34,67,30],[72,35,67,31],[73,8,68,4],[73,9,68,5],[73,10,68,6],[73,17,68,13,"err"],[73,20,68,21],[73,22,68,23],[74,10,69,6,"console"],[74,17,69,13],[74,18,69,14,"error"],[74,23,69,19],[74,24,69,20],[74,50,69,46],[74,52,69,48,"err"],[74,55,69,51],[74,56,69,52],[75,10,70,6,"setError"],[75,18,70,14],[75,19,70,15,"err"],[75,22,70,18],[75,23,70,19,"message"],[75,30,70,26],[75,34,70,30],[75,59,70,55],[75,60,70,56],[76,8,71,4],[76,9,71,5],[76,18,71,14],[77,10,72,6,"setLoading"],[77,20,72,16],[77,21,72,17],[77,26,72,22],[77,27,72,23],[78,8,73,4],[79,6,74,2],[79,7,74,3],[80,6,74,3],[80,22,27,8,"fetchProducts"],[80,35,27,21,"fetchProducts"],[80,36,27,21],[81,8,27,21],[81,15,27,21,"_ref"],[81,19,27,21],[81,20,27,21,"apply"],[81,25,27,21],[81,32,27,21,"arguments"],[81,41,27,21],[82,6,27,21],[83,4,27,21],[83,7,74,3],[84,4,76,2],[84,8,76,8,"refetch"],[84,15,76,15],[84,18,76,18,"refetch"],[84,19,76,18],[84,24,76,24],[85,6,77,4,"fetchProducts"],[85,19,77,17],[85,20,77,18],[85,21,77,19],[86,4,78,2],[86,5,78,3],[87,4,80,2],[87,11,80,9],[88,6,80,11,"products"],[88,14,80,19],[89,6,80,21,"loading"],[89,13,80,28],[90,6,80,30,"error"],[90,11,80,35],[91,6,80,37,"refetch"],[92,4,80,45],[92,5,80,46],[93,2,81,0],[93,3,81,1],[94,2,81,2,"_s"],[94,4,81,2],[94,5,18,13,"useProducts"],[94,16,18,24],[95,0,18,24],[95,3]],"functionMap":{"names":["<global>","useProducts","useEffect$argument_0","fetchProducts","querySnapshot.forEach$argument_0","refetch"],"mappings":"AAA;2BCiB;YCK;GDE;wBEE;4BCwB;ODc;GFS;kBIE;GJE;CDG"},"hasCjsExports":false},"type":"js/module"}]}