{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":87,"index":132}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":40,"index":173}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useProducts\", {\n    enumerable: true,\n    get: function () {\n      return useProducts;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _firebaseFirestore = require(_dependencyMap[3], \"firebase/firestore\");\n  var _configFirebase = require(_dependencyMap[4], \"../config/firebase\");\n  var useProducts = function (categoryId) {\n    _s();\n    var limitCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n    var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n    (0, _react.useEffect)(() => {\n      fetchProducts();\n    }, [categoryId, limitCount]);\n    var fetchProducts = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          setLoading(true);\n          setError(null);\n          var q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n\n          // Filter by category if provided\n          if (categoryId && categoryId !== 'all') {\n            q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.where)('categoryId', '==', categoryId), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n          }\n          var querySnapshot = yield (0, _firebaseFirestore.getDocs)(q);\n          var productsData = [];\n          querySnapshot.forEach(doc => {\n            var data = doc.data();\n\n            // Handle multi-language name\n            var productName = '';\n            if (typeof data.name === 'string') {\n              productName = data.name;\n            } else if (data.name && typeof data.name === 'object') {\n              productName = data.name.ar || data.name.en || data.name.ku || '';\n            }\n\n            // Handle multi-language description\n            var productDescription = '';\n            if (typeof data.description === 'string') {\n              productDescription = data.description;\n            } else if (data.description && typeof data.description === 'object') {\n              productDescription = data.description.ar || data.description.en || data.description.ku || '';\n            }\n            productsData.push({\n              id: doc.id,\n              name: productName,\n              imageUrl: data.imageUrl || data.images?.[0] || '',\n              wholesalePrice: data.wholesalePrice || 0,\n              tags: data.tags || [],\n              status: data.stock > 0 ? 'متوفر' : 'غير متوفر',\n              category: data.category,\n              stock: data.stock || 0,\n              minOrder: data.minOrder || 1,\n              description: productDescription\n            });\n          });\n          setProducts(productsData);\n        } catch (err) {\n          console.error('Error fetching products:', err);\n          setError(err.message || 'حدث خطأ في جلب المنتجات');\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function fetchProducts() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var refetch = () => {\n      fetchProducts();\n    };\n    return {\n      products,\n      loading,\n      error,\n      refetch\n    };\n  };\n  _s(useProducts, \"3+N/VFIgZOBgubN9oS5aTzm2qqY=\");\n});","lineCount":111,"map":[[13,2,18,0,"Object"],[13,8,18,0],[13,9,18,0,"defineProperty"],[13,23,18,0],[13,24,18,0,"exports"],[13,31,18,0],[14,4,18,0,"enumerable"],[14,14,18,0],[15,4,18,0,"get"],[15,7,18,0],[15,18,18,0,"get"],[15,19,18,0],[16,6,18,0],[16,13,18,0,"useProducts"],[16,24,18,0],[17,4,18,0],[18,2,18,0],[19,2,98,2],[19,6,98,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,98,2],[19,45,98,2,"require"],[19,52,98,2],[19,53,98,2,"_dependencyMap"],[19,67,98,2],[20,2,98,2],[20,6,98,2,"_asyncToGenerator"],[20,23,98,2],[20,26,98,2,"_interopDefault"],[20,41,98,2],[20,42,98,2,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,98,2],[21,2,98,2],[21,6,98,2,"_babelRuntimeHelpersSlicedToArray"],[21,39,98,2],[21,42,98,2,"require"],[21,49,98,2],[21,50,98,2,"_dependencyMap"],[21,64,98,2],[22,2,98,2],[22,6,98,2,"_slicedToArray"],[22,20,98,2],[22,23,98,2,"_interopDefault"],[22,38,98,2],[22,39,98,2,"_babelRuntimeHelpersSlicedToArray"],[22,72,98,2],[23,2,1,0],[23,6,1,0,"_react"],[23,12,1,0],[23,15,1,0,"require"],[23,22,1,0],[23,23,1,0,"_dependencyMap"],[23,37,1,0],[24,2,2,0],[24,6,2,0,"_firebaseFirestore"],[24,24,2,0],[24,27,2,0,"require"],[24,34,2,0],[24,35,2,0,"_dependencyMap"],[24,49,2,0],[25,2,3,0],[25,6,3,0,"_configFirebase"],[25,21,3,0],[25,24,3,0,"require"],[25,31,3,0],[25,32,3,0,"_dependencyMap"],[25,46,3,0],[26,2,18,7],[26,6,18,13,"useProducts"],[26,17,18,24],[26,20,18,27],[26,29,18,27,"useProducts"],[26,30,18,28,"categoryId"],[26,40,18,47],[26,42,18,77],[27,4,18,77,"_s"],[27,6,18,77],[28,4,18,77],[28,8,18,49,"limitCount"],[28,18,18,67],[28,21,18,67,"arguments"],[28,30,18,67],[28,31,18,67,"length"],[28,37,18,67],[28,45,18,67,"arguments"],[28,54,18,67],[28,62,18,67,"undefined"],[28,71,18,67],[28,74,18,67,"arguments"],[28,83,18,67],[28,89,18,70],[28,91,18,72],[29,4,19,2],[29,8,19,2,"_useState"],[29,17,19,2],[29,20,19,34],[29,24,19,34,"useState"],[29,30,19,42],[29,31,19,42,"useState"],[29,39,19,42],[29,41,19,54],[29,43,19,56],[29,44,19,57],[30,6,19,57,"_useState2"],[30,16,19,57],[30,23,19,57,"_slicedToArray"],[30,37,19,57],[30,38,19,57,"default"],[30,45,19,57],[30,47,19,57,"_useState"],[30,56,19,57],[31,6,19,9,"products"],[31,14,19,17],[31,17,19,17,"_useState2"],[31,27,19,17],[32,6,19,19,"setProducts"],[32,17,19,30],[32,20,19,30,"_useState2"],[32,30,19,30],[33,4,20,2],[33,8,20,2,"_useState3"],[33,18,20,2],[33,21,20,32],[33,25,20,32,"useState"],[33,31,20,40],[33,32,20,40,"useState"],[33,40,20,40],[33,42,20,41],[33,46,20,45],[33,47,20,46],[34,6,20,46,"_useState4"],[34,16,20,46],[34,23,20,46,"_slicedToArray"],[34,37,20,46],[34,38,20,46,"default"],[34,45,20,46],[34,47,20,46,"_useState3"],[34,57,20,46],[35,6,20,9,"loading"],[35,13,20,16],[35,16,20,16,"_useState4"],[35,26,20,16],[36,6,20,18,"setLoading"],[36,16,20,28],[36,19,20,28,"_useState4"],[36,29,20,28],[37,4,21,2],[37,8,21,2,"_useState5"],[37,18,21,2],[37,21,21,28],[37,25,21,28,"useState"],[37,31,21,36],[37,32,21,36,"useState"],[37,40,21,36],[37,42,21,52],[37,46,21,56],[37,47,21,57],[38,6,21,57,"_useState6"],[38,16,21,57],[38,23,21,57,"_slicedToArray"],[38,37,21,57],[38,38,21,57,"default"],[38,45,21,57],[38,47,21,57,"_useState5"],[38,57,21,57],[39,6,21,9,"error"],[39,11,21,14],[39,14,21,14,"_useState6"],[39,24,21,14],[40,6,21,16,"setError"],[40,14,21,24],[40,17,21,24,"_useState6"],[40,27,21,24],[41,4,23,2],[41,8,23,2,"useEffect"],[41,14,23,11],[41,15,23,11,"useEffect"],[41,24,23,11],[41,26,23,12],[41,32,23,18],[42,6,24,4,"fetchProducts"],[42,19,24,17],[42,20,24,18],[42,21,24,19],[43,4,25,2],[43,5,25,3],[43,7,25,5],[43,8,25,6,"categoryId"],[43,18,25,16],[43,20,25,18,"limitCount"],[43,30,25,28],[43,31,25,29],[43,32,25,30],[44,4,27,2],[44,8,27,8,"fetchProducts"],[44,21,27,21],[45,6,27,21],[45,10,27,21,"_ref"],[45,14,27,21],[45,21,27,21,"_asyncToGenerator"],[45,38,27,21],[45,39,27,21,"default"],[45,46,27,21],[45,48,27,24],[45,61,27,36],[46,8,28,4],[46,12,28,8],[47,10,29,6,"setLoading"],[47,20,29,16],[47,21,29,17],[47,25,29,21],[47,26,29,22],[48,10,30,6,"setError"],[48,18,30,14],[48,19,30,15],[48,23,30,19],[48,24,30,20],[49,10,32,6],[49,14,32,10,"q"],[49,15,32,11],[49,18,32,14],[49,22,32,14,"query"],[49,40,32,19],[49,41,32,19,"query"],[49,46,32,19],[49,48,33,8],[49,52,33,8,"collection"],[49,70,33,18],[49,71,33,18,"collection"],[49,81,33,18],[49,83,33,19,"db"],[49,98,33,21],[49,99,33,21,"db"],[49,101,33,21],[49,103,33,23],[49,113,33,33],[49,114,33,34],[49,116,34,8],[49,120,34,8,"orderBy"],[49,138,34,15],[49,139,34,15,"orderBy"],[49,146,34,15],[49,148,34,16],[49,159,34,27],[49,161,34,29],[49,167,34,35],[49,168,34,36],[49,170,35,8],[49,174,35,8,"limit"],[49,192,35,13],[49,193,35,13,"limit"],[49,198,35,13],[49,200,35,14,"limitCount"],[49,210,35,24],[49,211,36,6],[49,212,36,7],[51,10,38,6],[52,10,39,6],[52,14,39,10,"categoryId"],[52,24,39,20],[52,28,39,24,"categoryId"],[52,38,39,34],[52,43,39,39],[52,48,39,44],[52,50,39,46],[53,12,40,8,"q"],[53,13,40,9],[53,16,40,12],[53,20,40,12,"query"],[53,38,40,17],[53,39,40,17,"query"],[53,44,40,17],[53,46,41,10],[53,50,41,10,"collection"],[53,68,41,20],[53,69,41,20,"collection"],[53,79,41,20],[53,81,41,21,"db"],[53,96,41,23],[53,97,41,23,"db"],[53,99,41,23],[53,101,41,25],[53,111,41,35],[53,112,41,36],[53,114,42,10],[53,118,42,10,"where"],[53,136,42,15],[53,137,42,15,"where"],[53,142,42,15],[53,144,42,16],[53,156,42,28],[53,158,42,30],[53,162,42,34],[53,164,42,36,"categoryId"],[53,174,42,46],[53,175,42,47],[53,177,43,10],[53,181,43,10,"orderBy"],[53,199,43,17],[53,200,43,17,"orderBy"],[53,207,43,17],[53,209,43,18],[53,220,43,29],[53,222,43,31],[53,228,43,37],[53,229,43,38],[53,231,44,10],[53,235,44,10,"limit"],[53,253,44,15],[53,254,44,15,"limit"],[53,259,44,15],[53,261,44,16,"limitCount"],[53,271,44,26],[53,272,45,8],[53,273,45,9],[54,10,46,6],[55,10,48,6],[55,14,48,12,"querySnapshot"],[55,27,48,25],[55,36,48,34],[55,40,48,34,"getDocs"],[55,58,48,41],[55,59,48,41,"getDocs"],[55,66,48,41],[55,68,48,42,"q"],[55,69,48,43],[55,70,48,44],[56,10,49,6],[56,14,49,12,"productsData"],[56,26,49,35],[56,29,49,38],[56,31,49,40],[57,10,51,6,"querySnapshot"],[57,23,51,19],[57,24,51,20,"forEach"],[57,31,51,27],[57,32,51,29,"doc"],[57,35,51,32],[57,39,51,37],[58,12,52,8],[58,16,52,14,"data"],[58,20,52,18],[58,23,52,21,"doc"],[58,26,52,24],[58,27,52,25,"data"],[58,31,52,29],[58,32,52,30],[58,33,52,31],[60,12,54,8],[61,12,55,8],[61,16,55,12,"productName"],[61,27,55,23],[61,30,55,26],[61,32,55,28],[62,12,56,8],[62,16,56,12],[62,23,56,19,"data"],[62,27,56,23],[62,28,56,24,"name"],[62,32,56,28],[62,37,56,33],[62,45,56,41],[62,47,56,43],[63,14,57,10,"productName"],[63,25,57,21],[63,28,57,24,"data"],[63,32,57,28],[63,33,57,29,"name"],[63,37,57,33],[64,12,58,8],[64,13,58,9],[64,19,58,15],[64,23,58,19,"data"],[64,27,58,23],[64,28,58,24,"name"],[64,32,58,28],[64,36,58,32],[64,43,58,39,"data"],[64,47,58,43],[64,48,58,44,"name"],[64,52,58,48],[64,57,58,53],[64,65,58,61],[64,67,58,63],[65,14,59,10,"productName"],[65,25,59,21],[65,28,59,24,"data"],[65,32,59,28],[65,33,59,29,"name"],[65,37,59,33],[65,38,59,34,"ar"],[65,40,59,36],[65,44,59,40,"data"],[65,48,59,44],[65,49,59,45,"name"],[65,53,59,49],[65,54,59,50,"en"],[65,56,59,52],[65,60,59,56,"data"],[65,64,59,60],[65,65,59,61,"name"],[65,69,59,65],[65,70,59,66,"ku"],[65,72,59,68],[65,76,59,72],[65,78,59,74],[66,12,60,8],[68,12,62,8],[69,12,63,8],[69,16,63,12,"productDescription"],[69,34,63,30],[69,37,63,33],[69,39,63,35],[70,12,64,8],[70,16,64,12],[70,23,64,19,"data"],[70,27,64,23],[70,28,64,24,"description"],[70,39,64,35],[70,44,64,40],[70,52,64,48],[70,54,64,50],[71,14,65,10,"productDescription"],[71,32,65,28],[71,35,65,31,"data"],[71,39,65,35],[71,40,65,36,"description"],[71,51,65,47],[72,12,66,8],[72,13,66,9],[72,19,66,15],[72,23,66,19,"data"],[72,27,66,23],[72,28,66,24,"description"],[72,39,66,35],[72,43,66,39],[72,50,66,46,"data"],[72,54,66,50],[72,55,66,51,"description"],[72,66,66,62],[72,71,66,67],[72,79,66,75],[72,81,66,77],[73,14,67,10,"productDescription"],[73,32,67,28],[73,35,67,31,"data"],[73,39,67,35],[73,40,67,36,"description"],[73,51,67,47],[73,52,67,48,"ar"],[73,54,67,50],[73,58,67,54,"data"],[73,62,67,58],[73,63,67,59,"description"],[73,74,67,70],[73,75,67,71,"en"],[73,77,67,73],[73,81,67,77,"data"],[73,85,67,81],[73,86,67,82,"description"],[73,97,67,93],[73,98,67,94,"ku"],[73,100,67,96],[73,104,67,100],[73,106,67,102],[74,12,68,8],[75,12,70,8,"productsData"],[75,24,70,20],[75,25,70,21,"push"],[75,29,70,25],[75,30,70,26],[76,14,71,10,"id"],[76,16,71,12],[76,18,71,14,"doc"],[76,21,71,17],[76,22,71,18,"id"],[76,24,71,20],[77,14,72,10,"name"],[77,18,72,14],[77,20,72,16,"productName"],[77,31,72,27],[78,14,73,10,"imageUrl"],[78,22,73,18],[78,24,73,20,"data"],[78,28,73,24],[78,29,73,25,"imageUrl"],[78,37,73,33],[78,41,73,37,"data"],[78,45,73,41],[78,46,73,42,"images"],[78,52,73,48],[78,55,73,51],[78,56,73,52],[78,57,73,53],[78,61,73,57],[78,63,73,59],[79,14,74,10,"wholesalePrice"],[79,28,74,24],[79,30,74,26,"data"],[79,34,74,30],[79,35,74,31,"wholesalePrice"],[79,49,74,45],[79,53,74,49],[79,54,74,50],[80,14,75,10,"tags"],[80,18,75,14],[80,20,75,16,"data"],[80,24,75,20],[80,25,75,21,"tags"],[80,29,75,25],[80,33,75,29],[80,35,75,31],[81,14,76,10,"status"],[81,20,76,16],[81,22,76,18,"data"],[81,26,76,22],[81,27,76,23,"stock"],[81,32,76,28],[81,35,76,31],[81,36,76,32],[81,39,76,35],[81,46,76,42],[81,49,76,45],[81,60,76,56],[82,14,77,10,"category"],[82,22,77,18],[82,24,77,20,"data"],[82,28,77,24],[82,29,77,25,"category"],[82,37,77,33],[83,14,78,10,"stock"],[83,19,78,15],[83,21,78,17,"data"],[83,25,78,21],[83,26,78,22,"stock"],[83,31,78,27],[83,35,78,31],[83,36,78,32],[84,14,79,10,"minOrder"],[84,22,79,18],[84,24,79,20,"data"],[84,28,79,24],[84,29,79,25,"minOrder"],[84,37,79,33],[84,41,79,37],[84,42,79,38],[85,14,80,10,"description"],[85,25,80,21],[85,27,80,23,"productDescription"],[86,12,81,8],[86,13,81,9],[86,14,81,10],[87,10,82,6],[87,11,82,7],[87,12,82,8],[88,10,84,6,"setProducts"],[88,21,84,17],[88,22,84,18,"productsData"],[88,34,84,30],[88,35,84,31],[89,8,85,4],[89,9,85,5],[89,10,85,6],[89,17,85,13,"err"],[89,20,85,21],[89,22,85,23],[90,10,86,6,"console"],[90,17,86,13],[90,18,86,14,"error"],[90,23,86,19],[90,24,86,20],[90,50,86,46],[90,52,86,48,"err"],[90,55,86,51],[90,56,86,52],[91,10,87,6,"setError"],[91,18,87,14],[91,19,87,15,"err"],[91,22,87,18],[91,23,87,19,"message"],[91,30,87,26],[91,34,87,30],[91,59,87,55],[91,60,87,56],[92,8,88,4],[92,9,88,5],[92,18,88,14],[93,10,89,6,"setLoading"],[93,20,89,16],[93,21,89,17],[93,26,89,22],[93,27,89,23],[94,8,90,4],[95,6,91,2],[95,7,91,3],[96,6,91,3],[96,22,27,8,"fetchProducts"],[96,35,27,21,"fetchProducts"],[96,36,27,21],[97,8,27,21],[97,15,27,21,"_ref"],[97,19,27,21],[97,20,27,21,"apply"],[97,25,27,21],[97,32,27,21,"arguments"],[97,41,27,21],[98,6,27,21],[99,4,27,21],[99,7,91,3],[100,4,93,2],[100,8,93,8,"refetch"],[100,15,93,15],[100,18,93,18,"refetch"],[100,19,93,18],[100,24,93,24],[101,6,94,4,"fetchProducts"],[101,19,94,17],[101,20,94,18],[101,21,94,19],[102,4,95,2],[102,5,95,3],[103,4,97,2],[103,11,97,9],[104,6,97,11,"products"],[104,14,97,19],[105,6,97,21,"loading"],[105,13,97,28],[106,6,97,30,"error"],[106,11,97,35],[107,6,97,37,"refetch"],[108,4,97,45],[108,5,97,46],[109,2,98,0],[109,3,98,1],[110,2,98,2,"_s"],[110,4,98,2],[110,5,18,13,"useProducts"],[110,16,18,24],[111,0,18,24],[111,3]],"functionMap":{"names":["<global>","useProducts","useEffect$argument_0","fetchProducts","querySnapshot.forEach$argument_0","refetch"],"mappings":"AAA;2BCiB;YCK;GDE;wBEE;4BCwB;OD+B;GFS;kBIE;GJE;CDG"},"hasCjsExports":false},"type":"js/module"}]}