{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":87,"index":132}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":40,"index":173}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useProducts\", {\n    enumerable: true,\n    get: function () {\n      return useProducts;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _firebaseFirestore = require(_dependencyMap[1], \"firebase/firestore\");\n  var _configFirebase = require(_dependencyMap[2], \"../config/firebase\");\n  const useProducts = (categoryId, limitCount = 20) => {\n    const [products, setProducts] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [error, setError] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      fetchProducts();\n    }, [categoryId, limitCount]);\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        let q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n\n        // Filter by category if provided\n        if (categoryId && categoryId !== 'all') {\n          q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.where)('categoryId', '==', categoryId), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n        }\n        const querySnapshot = await (0, _firebaseFirestore.getDocs)(q);\n        const productsData = [];\n        querySnapshot.forEach(doc => {\n          const data = doc.data();\n\n          // Handle multi-language name\n          let productName = '';\n          if (typeof data.name === 'string') {\n            productName = data.name;\n          } else if (data.name && typeof data.name === 'object') {\n            productName = data.name.ar || data.name.en || data.name.ku || '';\n          }\n\n          // Handle multi-language description\n          let productDescription = '';\n          if (typeof data.description === 'string') {\n            productDescription = data.description;\n          } else if (data.description && typeof data.description === 'object') {\n            productDescription = data.description.ar || data.description.en || data.description.ku || '';\n          }\n\n          // Get image URL - handle both single imageUrl and images array\n          let imageUrl = '';\n          if (data.imageUrl) {\n            imageUrl = data.imageUrl;\n          } else if (data.images && Array.isArray(data.images) && data.images.length > 0) {\n            imageUrl = data.images[0];\n          }\n\n          // Get status badge - use custom badge from Firebase or default based on stock\n          let statusText = '';\n          let statusBadge = data.badge; // Custom badge from Firebase (like \"حصري\", \"جديد\", etc.)\n\n          if (statusBadge && typeof statusBadge === 'object') {\n            // Handle multi-language badge\n            statusText = statusBadge.ar || statusBadge.en || statusBadge.ku || '';\n          } else if (typeof statusBadge === 'string') {\n            statusText = statusBadge;\n          } else {\n            // Default status based on stock\n            const stock = data.stock || 0;\n            if (stock > 20) {\n              statusText = 'متوفر';\n            } else if (stock > 0) {\n              statusText = 'كمية محدودة';\n            } else {\n              statusText = 'غير متوفر';\n            }\n          }\n          productsData.push({\n            id: doc.id,\n            name: productName,\n            imageUrl: imageUrl,\n            wholesalePrice: data.wholesalePrice || 0,\n            tags: data.tags || [],\n            status: statusText,\n            category: data.category,\n            stock: data.stock || 0,\n            minOrder: data.minOrder || 1,\n            description: productDescription\n          });\n        });\n        setProducts(productsData);\n      } catch (err) {\n        console.error('Error fetching products:', err);\n        setError(err.message || 'حدث خطأ في جلب المنتجات');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const refetch = () => {\n      fetchProducts();\n    };\n    return {\n      products,\n      loading,\n      error,\n      refetch\n    };\n  };\n});","lineCount":113,"map":[[7,2,18,0,"Object"],[7,8,18,0],[7,9,18,0,"defineProperty"],[7,23,18,0],[7,24,18,0,"exports"],[7,31,18,0],[8,4,18,0,"enumerable"],[8,14,18,0],[9,4,18,0,"get"],[9,7,18,0],[9,18,18,0,"get"],[9,19,18,0],[10,6,18,0],[10,13,18,0,"useProducts"],[10,24,18,0],[11,4,18,0],[12,2,18,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_firebaseFirestore"],[14,24,2,0],[14,27,2,0,"require"],[14,34,2,0],[14,35,2,0,"_dependencyMap"],[14,49,2,0],[15,2,3,0],[15,6,3,0,"_configFirebase"],[15,21,3,0],[15,24,3,0,"require"],[15,31,3,0],[15,32,3,0,"_dependencyMap"],[15,46,3,0],[16,2,18,7],[16,8,18,13,"useProducts"],[16,19,18,24],[16,22,18,27,"useProducts"],[16,23,18,28,"categoryId"],[16,33,18,47],[16,35,18,49,"limitCount"],[16,45,18,67],[16,48,18,70],[16,50,18,72],[16,55,18,77],[17,4,19,2],[17,10,19,8],[17,11,19,9,"products"],[17,19,19,17],[17,21,19,19,"setProducts"],[17,32,19,30],[17,33,19,31],[17,36,19,34],[17,40,19,34,"useState"],[17,46,19,42],[17,47,19,42,"useState"],[17,55,19,42],[17,57,19,54],[17,59,19,56],[17,60,19,57],[18,4,20,2],[18,10,20,8],[18,11,20,9,"loading"],[18,18,20,16],[18,20,20,18,"setLoading"],[18,30,20,28],[18,31,20,29],[18,34,20,32],[18,38,20,32,"useState"],[18,44,20,40],[18,45,20,40,"useState"],[18,53,20,40],[18,55,20,41],[18,59,20,45],[18,60,20,46],[19,4,21,2],[19,10,21,8],[19,11,21,9,"error"],[19,16,21,14],[19,18,21,16,"setError"],[19,26,21,24],[19,27,21,25],[19,30,21,28],[19,34,21,28,"useState"],[19,40,21,36],[19,41,21,36,"useState"],[19,49,21,36],[19,51,21,52],[19,55,21,56],[19,56,21,57],[20,4,23,2],[20,8,23,2,"useEffect"],[20,14,23,11],[20,15,23,11,"useEffect"],[20,24,23,11],[20,26,23,12],[20,32,23,18],[21,6,24,4,"fetchProducts"],[21,19,24,17],[21,20,24,18],[21,21,24,19],[22,4,25,2],[22,5,25,3],[22,7,25,5],[22,8,25,6,"categoryId"],[22,18,25,16],[22,20,25,18,"limitCount"],[22,30,25,28],[22,31,25,29],[22,32,25,30],[23,4,27,2],[23,10,27,8,"fetchProducts"],[23,23,27,21],[23,26,27,24],[23,32,27,24,"fetchProducts"],[23,33,27,24],[23,38,27,36],[24,6,28,4],[24,10,28,8],[25,8,29,6,"setLoading"],[25,18,29,16],[25,19,29,17],[25,23,29,21],[25,24,29,22],[26,8,30,6,"setError"],[26,16,30,14],[26,17,30,15],[26,21,30,19],[26,22,30,20],[27,8,32,6],[27,12,32,10,"q"],[27,13,32,11],[27,16,32,14],[27,20,32,14,"query"],[27,38,32,19],[27,39,32,19,"query"],[27,44,32,19],[27,46,33,8],[27,50,33,8,"collection"],[27,68,33,18],[27,69,33,18,"collection"],[27,79,33,18],[27,81,33,19,"db"],[27,96,33,21],[27,97,33,21,"db"],[27,99,33,21],[27,101,33,23],[27,111,33,33],[27,112,33,34],[27,114,34,8],[27,118,34,8,"orderBy"],[27,136,34,15],[27,137,34,15,"orderBy"],[27,144,34,15],[27,146,34,16],[27,157,34,27],[27,159,34,29],[27,165,34,35],[27,166,34,36],[27,168,35,8],[27,172,35,8,"limit"],[27,190,35,13],[27,191,35,13,"limit"],[27,196,35,13],[27,198,35,14,"limitCount"],[27,208,35,24],[27,209,36,6],[27,210,36,7],[29,8,38,6],[30,8,39,6],[30,12,39,10,"categoryId"],[30,22,39,20],[30,26,39,24,"categoryId"],[30,36,39,34],[30,41,39,39],[30,46,39,44],[30,48,39,46],[31,10,40,8,"q"],[31,11,40,9],[31,14,40,12],[31,18,40,12,"query"],[31,36,40,17],[31,37,40,17,"query"],[31,42,40,17],[31,44,41,10],[31,48,41,10,"collection"],[31,66,41,20],[31,67,41,20,"collection"],[31,77,41,20],[31,79,41,21,"db"],[31,94,41,23],[31,95,41,23,"db"],[31,97,41,23],[31,99,41,25],[31,109,41,35],[31,110,41,36],[31,112,42,10],[31,116,42,10,"where"],[31,134,42,15],[31,135,42,15,"where"],[31,140,42,15],[31,142,42,16],[31,154,42,28],[31,156,42,30],[31,160,42,34],[31,162,42,36,"categoryId"],[31,172,42,46],[31,173,42,47],[31,175,43,10],[31,179,43,10,"orderBy"],[31,197,43,17],[31,198,43,17,"orderBy"],[31,205,43,17],[31,207,43,18],[31,218,43,29],[31,220,43,31],[31,226,43,37],[31,227,43,38],[31,229,44,10],[31,233,44,10,"limit"],[31,251,44,15],[31,252,44,15,"limit"],[31,257,44,15],[31,259,44,16,"limitCount"],[31,269,44,26],[31,270,45,8],[31,271,45,9],[32,8,46,6],[33,8,48,6],[33,14,48,12,"querySnapshot"],[33,27,48,25],[33,30,48,28],[33,36,48,34],[33,40,48,34,"getDocs"],[33,58,48,41],[33,59,48,41,"getDocs"],[33,66,48,41],[33,68,48,42,"q"],[33,69,48,43],[33,70,48,44],[34,8,49,6],[34,14,49,12,"productsData"],[34,26,49,35],[34,29,49,38],[34,31,49,40],[35,8,51,6,"querySnapshot"],[35,21,51,19],[35,22,51,20,"forEach"],[35,29,51,27],[35,30,51,29,"doc"],[35,33,51,32],[35,37,51,37],[36,10,52,8],[36,16,52,14,"data"],[36,20,52,18],[36,23,52,21,"doc"],[36,26,52,24],[36,27,52,25,"data"],[36,31,52,29],[36,32,52,30],[36,33,52,31],[38,10,54,8],[39,10,55,8],[39,14,55,12,"productName"],[39,25,55,23],[39,28,55,26],[39,30,55,28],[40,10,56,8],[40,14,56,12],[40,21,56,19,"data"],[40,25,56,23],[40,26,56,24,"name"],[40,30,56,28],[40,35,56,33],[40,43,56,41],[40,45,56,43],[41,12,57,10,"productName"],[41,23,57,21],[41,26,57,24,"data"],[41,30,57,28],[41,31,57,29,"name"],[41,35,57,33],[42,10,58,8],[42,11,58,9],[42,17,58,15],[42,21,58,19,"data"],[42,25,58,23],[42,26,58,24,"name"],[42,30,58,28],[42,34,58,32],[42,41,58,39,"data"],[42,45,58,43],[42,46,58,44,"name"],[42,50,58,48],[42,55,58,53],[42,63,58,61],[42,65,58,63],[43,12,59,10,"productName"],[43,23,59,21],[43,26,59,24,"data"],[43,30,59,28],[43,31,59,29,"name"],[43,35,59,33],[43,36,59,34,"ar"],[43,38,59,36],[43,42,59,40,"data"],[43,46,59,44],[43,47,59,45,"name"],[43,51,59,49],[43,52,59,50,"en"],[43,54,59,52],[43,58,59,56,"data"],[43,62,59,60],[43,63,59,61,"name"],[43,67,59,65],[43,68,59,66,"ku"],[43,70,59,68],[43,74,59,72],[43,76,59,74],[44,10,60,8],[46,10,62,8],[47,10,63,8],[47,14,63,12,"productDescription"],[47,32,63,30],[47,35,63,33],[47,37,63,35],[48,10,64,8],[48,14,64,12],[48,21,64,19,"data"],[48,25,64,23],[48,26,64,24,"description"],[48,37,64,35],[48,42,64,40],[48,50,64,48],[48,52,64,50],[49,12,65,10,"productDescription"],[49,30,65,28],[49,33,65,31,"data"],[49,37,65,35],[49,38,65,36,"description"],[49,49,65,47],[50,10,66,8],[50,11,66,9],[50,17,66,15],[50,21,66,19,"data"],[50,25,66,23],[50,26,66,24,"description"],[50,37,66,35],[50,41,66,39],[50,48,66,46,"data"],[50,52,66,50],[50,53,66,51,"description"],[50,64,66,62],[50,69,66,67],[50,77,66,75],[50,79,66,77],[51,12,67,10,"productDescription"],[51,30,67,28],[51,33,67,31,"data"],[51,37,67,35],[51,38,67,36,"description"],[51,49,67,47],[51,50,67,48,"ar"],[51,52,67,50],[51,56,67,54,"data"],[51,60,67,58],[51,61,67,59,"description"],[51,72,67,70],[51,73,67,71,"en"],[51,75,67,73],[51,79,67,77,"data"],[51,83,67,81],[51,84,67,82,"description"],[51,95,67,93],[51,96,67,94,"ku"],[51,98,67,96],[51,102,67,100],[51,104,67,102],[52,10,68,8],[54,10,70,8],[55,10,71,8],[55,14,71,12,"imageUrl"],[55,22,71,20],[55,25,71,23],[55,27,71,25],[56,10,72,8],[56,14,72,12,"data"],[56,18,72,16],[56,19,72,17,"imageUrl"],[56,27,72,25],[56,29,72,27],[57,12,73,10,"imageUrl"],[57,20,73,18],[57,23,73,21,"data"],[57,27,73,25],[57,28,73,26,"imageUrl"],[57,36,73,34],[58,10,74,8],[58,11,74,9],[58,17,74,15],[58,21,74,19,"data"],[58,25,74,23],[58,26,74,24,"images"],[58,32,74,30],[58,36,74,34,"Array"],[58,41,74,39],[58,42,74,40,"isArray"],[58,49,74,47],[58,50,74,48,"data"],[58,54,74,52],[58,55,74,53,"images"],[58,61,74,59],[58,62,74,60],[58,66,74,64,"data"],[58,70,74,68],[58,71,74,69,"images"],[58,77,74,75],[58,78,74,76,"length"],[58,84,74,82],[58,87,74,85],[58,88,74,86],[58,90,74,88],[59,12,75,10,"imageUrl"],[59,20,75,18],[59,23,75,21,"data"],[59,27,75,25],[59,28,75,26,"images"],[59,34,75,32],[59,35,75,33],[59,36,75,34],[59,37,75,35],[60,10,76,8],[62,10,78,8],[63,10,79,8],[63,14,79,12,"statusText"],[63,24,79,22],[63,27,79,25],[63,29,79,27],[64,10,80,8],[64,14,80,12,"statusBadge"],[64,25,80,23],[64,28,80,26,"data"],[64,32,80,30],[64,33,80,31,"badge"],[64,38,80,36],[64,39,80,37],[64,40,80,38],[66,10,82,8],[66,14,82,12,"statusBadge"],[66,25,82,23],[66,29,82,27],[66,36,82,34,"statusBadge"],[66,47,82,45],[66,52,82,50],[66,60,82,58],[66,62,82,60],[67,12,83,10],[68,12,84,10,"statusText"],[68,22,84,20],[68,25,84,23,"statusBadge"],[68,36,84,34],[68,37,84,35,"ar"],[68,39,84,37],[68,43,84,41,"statusBadge"],[68,54,84,52],[68,55,84,53,"en"],[68,57,84,55],[68,61,84,59,"statusBadge"],[68,72,84,70],[68,73,84,71,"ku"],[68,75,84,73],[68,79,84,77],[68,81,84,79],[69,10,85,8],[69,11,85,9],[69,17,85,15],[69,21,85,19],[69,28,85,26,"statusBadge"],[69,39,85,37],[69,44,85,42],[69,52,85,50],[69,54,85,52],[70,12,86,10,"statusText"],[70,22,86,20],[70,25,86,23,"statusBadge"],[70,36,86,34],[71,10,87,8],[71,11,87,9],[71,17,87,15],[72,12,88,10],[73,12,89,10],[73,18,89,16,"stock"],[73,23,89,21],[73,26,89,24,"data"],[73,30,89,28],[73,31,89,29,"stock"],[73,36,89,34],[73,40,89,38],[73,41,89,39],[74,12,90,10],[74,16,90,14,"stock"],[74,21,90,19],[74,24,90,22],[74,26,90,24],[74,28,90,26],[75,14,91,12,"statusText"],[75,24,91,22],[75,27,91,25],[75,34,91,32],[76,12,92,10],[76,13,92,11],[76,19,92,17],[76,23,92,21,"stock"],[76,28,92,26],[76,31,92,29],[76,32,92,30],[76,34,92,32],[77,14,93,12,"statusText"],[77,24,93,22],[77,27,93,25],[77,40,93,38],[78,12,94,10],[78,13,94,11],[78,19,94,17],[79,14,95,12,"statusText"],[79,24,95,22],[79,27,95,25],[79,38,95,36],[80,12,96,10],[81,10,97,8],[82,10,99,8,"productsData"],[82,22,99,20],[82,23,99,21,"push"],[82,27,99,25],[82,28,99,26],[83,12,100,10,"id"],[83,14,100,12],[83,16,100,14,"doc"],[83,19,100,17],[83,20,100,18,"id"],[83,22,100,20],[84,12,101,10,"name"],[84,16,101,14],[84,18,101,16,"productName"],[84,29,101,27],[85,12,102,10,"imageUrl"],[85,20,102,18],[85,22,102,20,"imageUrl"],[85,30,102,28],[86,12,103,10,"wholesalePrice"],[86,26,103,24],[86,28,103,26,"data"],[86,32,103,30],[86,33,103,31,"wholesalePrice"],[86,47,103,45],[86,51,103,49],[86,52,103,50],[87,12,104,10,"tags"],[87,16,104,14],[87,18,104,16,"data"],[87,22,104,20],[87,23,104,21,"tags"],[87,27,104,25],[87,31,104,29],[87,33,104,31],[88,12,105,10,"status"],[88,18,105,16],[88,20,105,18,"statusText"],[88,30,105,28],[89,12,106,10,"category"],[89,20,106,18],[89,22,106,20,"data"],[89,26,106,24],[89,27,106,25,"category"],[89,35,106,33],[90,12,107,10,"stock"],[90,17,107,15],[90,19,107,17,"data"],[90,23,107,21],[90,24,107,22,"stock"],[90,29,107,27],[90,33,107,31],[90,34,107,32],[91,12,108,10,"minOrder"],[91,20,108,18],[91,22,108,20,"data"],[91,26,108,24],[91,27,108,25,"minOrder"],[91,35,108,33],[91,39,108,37],[91,40,108,38],[92,12,109,10,"description"],[92,23,109,21],[92,25,109,23,"productDescription"],[93,10,110,8],[93,11,110,9],[93,12,110,10],[94,8,111,6],[94,9,111,7],[94,10,111,8],[95,8,113,6,"setProducts"],[95,19,113,17],[95,20,113,18,"productsData"],[95,32,113,30],[95,33,113,31],[96,6,114,4],[96,7,114,5],[96,8,114,6],[96,15,114,13,"err"],[96,18,114,21],[96,20,114,23],[97,8,115,6,"console"],[97,15,115,13],[97,16,115,14,"error"],[97,21,115,19],[97,22,115,20],[97,48,115,46],[97,50,115,48,"err"],[97,53,115,51],[97,54,115,52],[98,8,116,6,"setError"],[98,16,116,14],[98,17,116,15,"err"],[98,20,116,18],[98,21,116,19,"message"],[98,28,116,26],[98,32,116,30],[98,57,116,55],[98,58,116,56],[99,6,117,4],[99,7,117,5],[99,16,117,14],[100,8,118,6,"setLoading"],[100,18,118,16],[100,19,118,17],[100,24,118,22],[100,25,118,23],[101,6,119,4],[102,4,120,2],[102,5,120,3],[103,4,122,2],[103,10,122,8,"refetch"],[103,17,122,15],[103,20,122,18,"refetch"],[103,21,122,18],[103,26,122,24],[104,6,123,4,"fetchProducts"],[104,19,123,17],[104,20,123,18],[104,21,123,19],[105,4,124,2],[105,5,124,3],[106,4,126,2],[106,11,126,9],[107,6,126,11,"products"],[107,14,126,19],[108,6,126,21,"loading"],[108,13,126,28],[109,6,126,30,"error"],[109,11,126,35],[110,6,126,37,"refetch"],[111,4,126,45],[111,5,126,46],[112,2,127,0],[112,3,127,1],[113,0,127,2],[113,3]],"functionMap":{"names":["<global>","useProducts","useEffect$argument_0","fetchProducts","querySnapshot.forEach$argument_0","refetch"],"mappings":"AAA;2BCiB;YCK;GDE;wBEE;4BCwB;OD4D;GFS;kBIE;GJE;CDG"},"hasCjsExports":false},"type":"js/module"}]}