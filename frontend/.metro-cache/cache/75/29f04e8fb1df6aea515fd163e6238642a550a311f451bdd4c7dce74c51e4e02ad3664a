{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":87,"index":132}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":40,"index":173}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useProducts\", {\n    enumerable: true,\n    get: function () {\n      return useProducts;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _firebaseFirestore = require(_dependencyMap[1], \"firebase/firestore\");\n  var _configFirebase = require(_dependencyMap[2], \"../config/firebase\");\n  const useProducts = (categoryId, limitCount = 20) => {\n    const [products, setProducts] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [error, setError] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      fetchProducts();\n    }, [categoryId, limitCount]);\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        let q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n\n        // Filter by category if provided\n        if (categoryId && categoryId !== 'all') {\n          q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.where)('categoryId', '==', categoryId), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n        }\n        const querySnapshot = await (0, _firebaseFirestore.getDocs)(q);\n        const productsData = [];\n        querySnapshot.forEach(doc => {\n          const data = doc.data();\n          productsData.push({\n            id: doc.id,\n            name: data.name || '',\n            imageUrl: data.imageUrl || data.images?.[0] || '',\n            wholesalePrice: data.wholesalePrice || 0,\n            tags: data.tags || [],\n            status: data.stock > 0 ? 'متوفر' : 'غير متوفر',\n            category: data.category,\n            stock: data.stock || 0,\n            minOrder: data.minOrder || 1,\n            description: data.description || ''\n          });\n        });\n        setProducts(productsData);\n      } catch (err) {\n        console.error('Error fetching products:', err);\n        setError(err.message || 'حدث خطأ في جلب المنتجات');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const refetch = () => {\n      fetchProducts();\n    };\n    return {\n      products,\n      loading,\n      error,\n      refetch\n    };\n  };\n});","lineCount":68,"map":[[7,2,18,0,"Object"],[7,8,18,0],[7,9,18,0,"defineProperty"],[7,23,18,0],[7,24,18,0,"exports"],[7,31,18,0],[8,4,18,0,"enumerable"],[8,14,18,0],[9,4,18,0,"get"],[9,7,18,0],[9,18,18,0,"get"],[9,19,18,0],[10,6,18,0],[10,13,18,0,"useProducts"],[10,24,18,0],[11,4,18,0],[12,2,18,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_firebaseFirestore"],[14,24,2,0],[14,27,2,0,"require"],[14,34,2,0],[14,35,2,0,"_dependencyMap"],[14,49,2,0],[15,2,3,0],[15,6,3,0,"_configFirebase"],[15,21,3,0],[15,24,3,0,"require"],[15,31,3,0],[15,32,3,0,"_dependencyMap"],[15,46,3,0],[16,2,18,7],[16,8,18,13,"useProducts"],[16,19,18,24],[16,22,18,27,"useProducts"],[16,23,18,28,"categoryId"],[16,33,18,47],[16,35,18,49,"limitCount"],[16,45,18,67],[16,48,18,70],[16,50,18,72],[16,55,18,77],[17,4,19,2],[17,10,19,8],[17,11,19,9,"products"],[17,19,19,17],[17,21,19,19,"setProducts"],[17,32,19,30],[17,33,19,31],[17,36,19,34],[17,40,19,34,"useState"],[17,46,19,42],[17,47,19,42,"useState"],[17,55,19,42],[17,57,19,54],[17,59,19,56],[17,60,19,57],[18,4,20,2],[18,10,20,8],[18,11,20,9,"loading"],[18,18,20,16],[18,20,20,18,"setLoading"],[18,30,20,28],[18,31,20,29],[18,34,20,32],[18,38,20,32,"useState"],[18,44,20,40],[18,45,20,40,"useState"],[18,53,20,40],[18,55,20,41],[18,59,20,45],[18,60,20,46],[19,4,21,2],[19,10,21,8],[19,11,21,9,"error"],[19,16,21,14],[19,18,21,16,"setError"],[19,26,21,24],[19,27,21,25],[19,30,21,28],[19,34,21,28,"useState"],[19,40,21,36],[19,41,21,36,"useState"],[19,49,21,36],[19,51,21,52],[19,55,21,56],[19,56,21,57],[20,4,23,2],[20,8,23,2,"useEffect"],[20,14,23,11],[20,15,23,11,"useEffect"],[20,24,23,11],[20,26,23,12],[20,32,23,18],[21,6,24,4,"fetchProducts"],[21,19,24,17],[21,20,24,18],[21,21,24,19],[22,4,25,2],[22,5,25,3],[22,7,25,5],[22,8,25,6,"categoryId"],[22,18,25,16],[22,20,25,18,"limitCount"],[22,30,25,28],[22,31,25,29],[22,32,25,30],[23,4,27,2],[23,10,27,8,"fetchProducts"],[23,23,27,21],[23,26,27,24],[23,32,27,24,"fetchProducts"],[23,33,27,24],[23,38,27,36],[24,6,28,4],[24,10,28,8],[25,8,29,6,"setLoading"],[25,18,29,16],[25,19,29,17],[25,23,29,21],[25,24,29,22],[26,8,30,6,"setError"],[26,16,30,14],[26,17,30,15],[26,21,30,19],[26,22,30,20],[27,8,32,6],[27,12,32,10,"q"],[27,13,32,11],[27,16,32,14],[27,20,32,14,"query"],[27,38,32,19],[27,39,32,19,"query"],[27,44,32,19],[27,46,33,8],[27,50,33,8,"collection"],[27,68,33,18],[27,69,33,18,"collection"],[27,79,33,18],[27,81,33,19,"db"],[27,96,33,21],[27,97,33,21,"db"],[27,99,33,21],[27,101,33,23],[27,111,33,33],[27,112,33,34],[27,114,34,8],[27,118,34,8,"orderBy"],[27,136,34,15],[27,137,34,15,"orderBy"],[27,144,34,15],[27,146,34,16],[27,157,34,27],[27,159,34,29],[27,165,34,35],[27,166,34,36],[27,168,35,8],[27,172,35,8,"limit"],[27,190,35,13],[27,191,35,13,"limit"],[27,196,35,13],[27,198,35,14,"limitCount"],[27,208,35,24],[27,209,36,6],[27,210,36,7],[29,8,38,6],[30,8,39,6],[30,12,39,10,"categoryId"],[30,22,39,20],[30,26,39,24,"categoryId"],[30,36,39,34],[30,41,39,39],[30,46,39,44],[30,48,39,46],[31,10,40,8,"q"],[31,11,40,9],[31,14,40,12],[31,18,40,12,"query"],[31,36,40,17],[31,37,40,17,"query"],[31,42,40,17],[31,44,41,10],[31,48,41,10,"collection"],[31,66,41,20],[31,67,41,20,"collection"],[31,77,41,20],[31,79,41,21,"db"],[31,94,41,23],[31,95,41,23,"db"],[31,97,41,23],[31,99,41,25],[31,109,41,35],[31,110,41,36],[31,112,42,10],[31,116,42,10,"where"],[31,134,42,15],[31,135,42,15,"where"],[31,140,42,15],[31,142,42,16],[31,154,42,28],[31,156,42,30],[31,160,42,34],[31,162,42,36,"categoryId"],[31,172,42,46],[31,173,42,47],[31,175,43,10],[31,179,43,10,"orderBy"],[31,197,43,17],[31,198,43,17,"orderBy"],[31,205,43,17],[31,207,43,18],[31,218,43,29],[31,220,43,31],[31,226,43,37],[31,227,43,38],[31,229,44,10],[31,233,44,10,"limit"],[31,251,44,15],[31,252,44,15,"limit"],[31,257,44,15],[31,259,44,16,"limitCount"],[31,269,44,26],[31,270,45,8],[31,271,45,9],[32,8,46,6],[33,8,48,6],[33,14,48,12,"querySnapshot"],[33,27,48,25],[33,30,48,28],[33,36,48,34],[33,40,48,34,"getDocs"],[33,58,48,41],[33,59,48,41,"getDocs"],[33,66,48,41],[33,68,48,42,"q"],[33,69,48,43],[33,70,48,44],[34,8,49,6],[34,14,49,12,"productsData"],[34,26,49,35],[34,29,49,38],[34,31,49,40],[35,8,51,6,"querySnapshot"],[35,21,51,19],[35,22,51,20,"forEach"],[35,29,51,27],[35,30,51,29,"doc"],[35,33,51,32],[35,37,51,37],[36,10,52,8],[36,16,52,14,"data"],[36,20,52,18],[36,23,52,21,"doc"],[36,26,52,24],[36,27,52,25,"data"],[36,31,52,29],[36,32,52,30],[36,33,52,31],[37,10,53,8,"productsData"],[37,22,53,20],[37,23,53,21,"push"],[37,27,53,25],[37,28,53,26],[38,12,54,10,"id"],[38,14,54,12],[38,16,54,14,"doc"],[38,19,54,17],[38,20,54,18,"id"],[38,22,54,20],[39,12,55,10,"name"],[39,16,55,14],[39,18,55,16,"data"],[39,22,55,20],[39,23,55,21,"name"],[39,27,55,25],[39,31,55,29],[39,33,55,31],[40,12,56,10,"imageUrl"],[40,20,56,18],[40,22,56,20,"data"],[40,26,56,24],[40,27,56,25,"imageUrl"],[40,35,56,33],[40,39,56,37,"data"],[40,43,56,41],[40,44,56,42,"images"],[40,50,56,48],[40,53,56,51],[40,54,56,52],[40,55,56,53],[40,59,56,57],[40,61,56,59],[41,12,57,10,"wholesalePrice"],[41,26,57,24],[41,28,57,26,"data"],[41,32,57,30],[41,33,57,31,"wholesalePrice"],[41,47,57,45],[41,51,57,49],[41,52,57,50],[42,12,58,10,"tags"],[42,16,58,14],[42,18,58,16,"data"],[42,22,58,20],[42,23,58,21,"tags"],[42,27,58,25],[42,31,58,29],[42,33,58,31],[43,12,59,10,"status"],[43,18,59,16],[43,20,59,18,"data"],[43,24,59,22],[43,25,59,23,"stock"],[43,30,59,28],[43,33,59,31],[43,34,59,32],[43,37,59,35],[43,44,59,42],[43,47,59,45],[43,58,59,56],[44,12,60,10,"category"],[44,20,60,18],[44,22,60,20,"data"],[44,26,60,24],[44,27,60,25,"category"],[44,35,60,33],[45,12,61,10,"stock"],[45,17,61,15],[45,19,61,17,"data"],[45,23,61,21],[45,24,61,22,"stock"],[45,29,61,27],[45,33,61,31],[45,34,61,32],[46,12,62,10,"minOrder"],[46,20,62,18],[46,22,62,20,"data"],[46,26,62,24],[46,27,62,25,"minOrder"],[46,35,62,33],[46,39,62,37],[46,40,62,38],[47,12,63,10,"description"],[47,23,63,21],[47,25,63,23,"data"],[47,29,63,27],[47,30,63,28,"description"],[47,41,63,39],[47,45,63,43],[48,10,64,8],[48,11,64,9],[48,12,64,10],[49,8,65,6],[49,9,65,7],[49,10,65,8],[50,8,67,6,"setProducts"],[50,19,67,17],[50,20,67,18,"productsData"],[50,32,67,30],[50,33,67,31],[51,6,68,4],[51,7,68,5],[51,8,68,6],[51,15,68,13,"err"],[51,18,68,21],[51,20,68,23],[52,8,69,6,"console"],[52,15,69,13],[52,16,69,14,"error"],[52,21,69,19],[52,22,69,20],[52,48,69,46],[52,50,69,48,"err"],[52,53,69,51],[52,54,69,52],[53,8,70,6,"setError"],[53,16,70,14],[53,17,70,15,"err"],[53,20,70,18],[53,21,70,19,"message"],[53,28,70,26],[53,32,70,30],[53,57,70,55],[53,58,70,56],[54,6,71,4],[54,7,71,5],[54,16,71,14],[55,8,72,6,"setLoading"],[55,18,72,16],[55,19,72,17],[55,24,72,22],[55,25,72,23],[56,6,73,4],[57,4,74,2],[57,5,74,3],[58,4,76,2],[58,10,76,8,"refetch"],[58,17,76,15],[58,20,76,18,"refetch"],[58,21,76,18],[58,26,76,24],[59,6,77,4,"fetchProducts"],[59,19,77,17],[59,20,77,18],[59,21,77,19],[60,4,78,2],[60,5,78,3],[61,4,80,2],[61,11,80,9],[62,6,80,11,"products"],[62,14,80,19],[63,6,80,21,"loading"],[63,13,80,28],[64,6,80,30,"error"],[64,11,80,35],[65,6,80,37,"refetch"],[66,4,80,45],[66,5,80,46],[67,2,81,0],[67,3,81,1],[68,0,81,2],[68,3]],"functionMap":{"names":["<global>","useProducts","useEffect$argument_0","fetchProducts","querySnapshot.forEach$argument_0","refetch"],"mappings":"AAA;2BCiB;YCK;GDE;wBEE;4BCwB;ODc;GFS;kBIE;GJE;CDG"},"hasCjsExports":false},"type":"js/module"}]}