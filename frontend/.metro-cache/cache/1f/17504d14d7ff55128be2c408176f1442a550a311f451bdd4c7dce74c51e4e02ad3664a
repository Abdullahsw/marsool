{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":87,"index":132}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":40,"index":173}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useProducts\", {\n    enumerable: true,\n    get: function () {\n      return useProducts;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _firebaseFirestore = require(_dependencyMap[1], \"firebase/firestore\");\n  var _configFirebase = require(_dependencyMap[2], \"../config/firebase\");\n  const useProducts = (categoryId, limitCount = 20) => {\n    _s();\n    const [products, setProducts] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [error, setError] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      fetchProducts();\n    }, [categoryId, limitCount]);\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        let q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n\n        // Filter by category if provided\n        if (categoryId && categoryId !== 'all') {\n          q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.where)('categoryId', '==', categoryId), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n        }\n        const querySnapshot = await (0, _firebaseFirestore.getDocs)(q);\n        const productsData = [];\n        querySnapshot.forEach(doc => {\n          const data = doc.data();\n          productsData.push({\n            id: doc.id,\n            name: data.name || '',\n            imageUrl: data.imageUrl || data.images?.[0] || '',\n            wholesalePrice: data.wholesalePrice || 0,\n            tags: data.tags || [],\n            status: data.stock > 0 ? 'متوفر' : 'غير متوفر',\n            category: data.category,\n            stock: data.stock || 0,\n            minOrder: data.minOrder || 1,\n            description: data.description || ''\n          });\n        });\n        setProducts(productsData);\n      } catch (err) {\n        console.error('Error fetching products:', err);\n        setError(err.message || 'حدث خطأ في جلب المنتجات');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const refetch = () => {\n      fetchProducts();\n    };\n    return {\n      products,\n      loading,\n      error,\n      refetch\n    };\n  };\n  _s(useProducts, \"3+N/VFIgZOBgubN9oS5aTzm2qqY=\");\n});","lineCount":71,"map":[[8,2,18,0,"Object"],[8,8,18,0],[8,9,18,0,"defineProperty"],[8,23,18,0],[8,24,18,0,"exports"],[8,31,18,0],[9,4,18,0,"enumerable"],[9,14,18,0],[10,4,18,0,"get"],[10,7,18,0],[10,18,18,0,"get"],[10,19,18,0],[11,6,18,0],[11,13,18,0,"useProducts"],[11,24,18,0],[12,4,18,0],[13,2,18,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_firebaseFirestore"],[15,24,2,0],[15,27,2,0,"require"],[15,34,2,0],[15,35,2,0,"_dependencyMap"],[15,49,2,0],[16,2,3,0],[16,6,3,0,"_configFirebase"],[16,21,3,0],[16,24,3,0,"require"],[16,31,3,0],[16,32,3,0,"_dependencyMap"],[16,46,3,0],[17,2,18,7],[17,8,18,13,"useProducts"],[17,19,18,24],[17,22,18,27,"useProducts"],[17,23,18,28,"categoryId"],[17,33,18,47],[17,35,18,49,"limitCount"],[17,45,18,67],[17,48,18,70],[17,50,18,72],[17,55,18,77],[18,4,18,77,"_s"],[18,6,18,77],[19,4,19,2],[19,10,19,8],[19,11,19,9,"products"],[19,19,19,17],[19,21,19,19,"setProducts"],[19,32,19,30],[19,33,19,31],[19,36,19,34],[19,40,19,34,"useState"],[19,46,19,42],[19,47,19,42,"useState"],[19,55,19,42],[19,57,19,54],[19,59,19,56],[19,60,19,57],[20,4,20,2],[20,10,20,8],[20,11,20,9,"loading"],[20,18,20,16],[20,20,20,18,"setLoading"],[20,30,20,28],[20,31,20,29],[20,34,20,32],[20,38,20,32,"useState"],[20,44,20,40],[20,45,20,40,"useState"],[20,53,20,40],[20,55,20,41],[20,59,20,45],[20,60,20,46],[21,4,21,2],[21,10,21,8],[21,11,21,9,"error"],[21,16,21,14],[21,18,21,16,"setError"],[21,26,21,24],[21,27,21,25],[21,30,21,28],[21,34,21,28,"useState"],[21,40,21,36],[21,41,21,36,"useState"],[21,49,21,36],[21,51,21,52],[21,55,21,56],[21,56,21,57],[22,4,23,2],[22,8,23,2,"useEffect"],[22,14,23,11],[22,15,23,11,"useEffect"],[22,24,23,11],[22,26,23,12],[22,32,23,18],[23,6,24,4,"fetchProducts"],[23,19,24,17],[23,20,24,18],[23,21,24,19],[24,4,25,2],[24,5,25,3],[24,7,25,5],[24,8,25,6,"categoryId"],[24,18,25,16],[24,20,25,18,"limitCount"],[24,30,25,28],[24,31,25,29],[24,32,25,30],[25,4,27,2],[25,10,27,8,"fetchProducts"],[25,23,27,21],[25,26,27,24],[25,32,27,24,"fetchProducts"],[25,33,27,24],[25,38,27,36],[26,6,28,4],[26,10,28,8],[27,8,29,6,"setLoading"],[27,18,29,16],[27,19,29,17],[27,23,29,21],[27,24,29,22],[28,8,30,6,"setError"],[28,16,30,14],[28,17,30,15],[28,21,30,19],[28,22,30,20],[29,8,32,6],[29,12,32,10,"q"],[29,13,32,11],[29,16,32,14],[29,20,32,14,"query"],[29,38,32,19],[29,39,32,19,"query"],[29,44,32,19],[29,46,33,8],[29,50,33,8,"collection"],[29,68,33,18],[29,69,33,18,"collection"],[29,79,33,18],[29,81,33,19,"db"],[29,96,33,21],[29,97,33,21,"db"],[29,99,33,21],[29,101,33,23],[29,111,33,33],[29,112,33,34],[29,114,34,8],[29,118,34,8,"orderBy"],[29,136,34,15],[29,137,34,15,"orderBy"],[29,144,34,15],[29,146,34,16],[29,157,34,27],[29,159,34,29],[29,165,34,35],[29,166,34,36],[29,168,35,8],[29,172,35,8,"limit"],[29,190,35,13],[29,191,35,13,"limit"],[29,196,35,13],[29,198,35,14,"limitCount"],[29,208,35,24],[29,209,36,6],[29,210,36,7],[31,8,38,6],[32,8,39,6],[32,12,39,10,"categoryId"],[32,22,39,20],[32,26,39,24,"categoryId"],[32,36,39,34],[32,41,39,39],[32,46,39,44],[32,48,39,46],[33,10,40,8,"q"],[33,11,40,9],[33,14,40,12],[33,18,40,12,"query"],[33,36,40,17],[33,37,40,17,"query"],[33,42,40,17],[33,44,41,10],[33,48,41,10,"collection"],[33,66,41,20],[33,67,41,20,"collection"],[33,77,41,20],[33,79,41,21,"db"],[33,94,41,23],[33,95,41,23,"db"],[33,97,41,23],[33,99,41,25],[33,109,41,35],[33,110,41,36],[33,112,42,10],[33,116,42,10,"where"],[33,134,42,15],[33,135,42,15,"where"],[33,140,42,15],[33,142,42,16],[33,154,42,28],[33,156,42,30],[33,160,42,34],[33,162,42,36,"categoryId"],[33,172,42,46],[33,173,42,47],[33,175,43,10],[33,179,43,10,"orderBy"],[33,197,43,17],[33,198,43,17,"orderBy"],[33,205,43,17],[33,207,43,18],[33,218,43,29],[33,220,43,31],[33,226,43,37],[33,227,43,38],[33,229,44,10],[33,233,44,10,"limit"],[33,251,44,15],[33,252,44,15,"limit"],[33,257,44,15],[33,259,44,16,"limitCount"],[33,269,44,26],[33,270,45,8],[33,271,45,9],[34,8,46,6],[35,8,48,6],[35,14,48,12,"querySnapshot"],[35,27,48,25],[35,30,48,28],[35,36,48,34],[35,40,48,34,"getDocs"],[35,58,48,41],[35,59,48,41,"getDocs"],[35,66,48,41],[35,68,48,42,"q"],[35,69,48,43],[35,70,48,44],[36,8,49,6],[36,14,49,12,"productsData"],[36,26,49,35],[36,29,49,38],[36,31,49,40],[37,8,51,6,"querySnapshot"],[37,21,51,19],[37,22,51,20,"forEach"],[37,29,51,27],[37,30,51,29,"doc"],[37,33,51,32],[37,37,51,37],[38,10,52,8],[38,16,52,14,"data"],[38,20,52,18],[38,23,52,21,"doc"],[38,26,52,24],[38,27,52,25,"data"],[38,31,52,29],[38,32,52,30],[38,33,52,31],[39,10,53,8,"productsData"],[39,22,53,20],[39,23,53,21,"push"],[39,27,53,25],[39,28,53,26],[40,12,54,10,"id"],[40,14,54,12],[40,16,54,14,"doc"],[40,19,54,17],[40,20,54,18,"id"],[40,22,54,20],[41,12,55,10,"name"],[41,16,55,14],[41,18,55,16,"data"],[41,22,55,20],[41,23,55,21,"name"],[41,27,55,25],[41,31,55,29],[41,33,55,31],[42,12,56,10,"imageUrl"],[42,20,56,18],[42,22,56,20,"data"],[42,26,56,24],[42,27,56,25,"imageUrl"],[42,35,56,33],[42,39,56,37,"data"],[42,43,56,41],[42,44,56,42,"images"],[42,50,56,48],[42,53,56,51],[42,54,56,52],[42,55,56,53],[42,59,56,57],[42,61,56,59],[43,12,57,10,"wholesalePrice"],[43,26,57,24],[43,28,57,26,"data"],[43,32,57,30],[43,33,57,31,"wholesalePrice"],[43,47,57,45],[43,51,57,49],[43,52,57,50],[44,12,58,10,"tags"],[44,16,58,14],[44,18,58,16,"data"],[44,22,58,20],[44,23,58,21,"tags"],[44,27,58,25],[44,31,58,29],[44,33,58,31],[45,12,59,10,"status"],[45,18,59,16],[45,20,59,18,"data"],[45,24,59,22],[45,25,59,23,"stock"],[45,30,59,28],[45,33,59,31],[45,34,59,32],[45,37,59,35],[45,44,59,42],[45,47,59,45],[45,58,59,56],[46,12,60,10,"category"],[46,20,60,18],[46,22,60,20,"data"],[46,26,60,24],[46,27,60,25,"category"],[46,35,60,33],[47,12,61,10,"stock"],[47,17,61,15],[47,19,61,17,"data"],[47,23,61,21],[47,24,61,22,"stock"],[47,29,61,27],[47,33,61,31],[47,34,61,32],[48,12,62,10,"minOrder"],[48,20,62,18],[48,22,62,20,"data"],[48,26,62,24],[48,27,62,25,"minOrder"],[48,35,62,33],[48,39,62,37],[48,40,62,38],[49,12,63,10,"description"],[49,23,63,21],[49,25,63,23,"data"],[49,29,63,27],[49,30,63,28,"description"],[49,41,63,39],[49,45,63,43],[50,10,64,8],[50,11,64,9],[50,12,64,10],[51,8,65,6],[51,9,65,7],[51,10,65,8],[52,8,67,6,"setProducts"],[52,19,67,17],[52,20,67,18,"productsData"],[52,32,67,30],[52,33,67,31],[53,6,68,4],[53,7,68,5],[53,8,68,6],[53,15,68,13,"err"],[53,18,68,21],[53,20,68,23],[54,8,69,6,"console"],[54,15,69,13],[54,16,69,14,"error"],[54,21,69,19],[54,22,69,20],[54,48,69,46],[54,50,69,48,"err"],[54,53,69,51],[54,54,69,52],[55,8,70,6,"setError"],[55,16,70,14],[55,17,70,15,"err"],[55,20,70,18],[55,21,70,19,"message"],[55,28,70,26],[55,32,70,30],[55,57,70,55],[55,58,70,56],[56,6,71,4],[56,7,71,5],[56,16,71,14],[57,8,72,6,"setLoading"],[57,18,72,16],[57,19,72,17],[57,24,72,22],[57,25,72,23],[58,6,73,4],[59,4,74,2],[59,5,74,3],[60,4,76,2],[60,10,76,8,"refetch"],[60,17,76,15],[60,20,76,18,"refetch"],[60,21,76,18],[60,26,76,24],[61,6,77,4,"fetchProducts"],[61,19,77,17],[61,20,77,18],[61,21,77,19],[62,4,78,2],[62,5,78,3],[63,4,80,2],[63,11,80,9],[64,6,80,11,"products"],[64,14,80,19],[65,6,80,21,"loading"],[65,13,80,28],[66,6,80,30,"error"],[66,11,80,35],[67,6,80,37,"refetch"],[68,4,80,45],[68,5,80,46],[69,2,81,0],[69,3,81,1],[70,2,81,2,"_s"],[70,4,81,2],[70,5,18,13,"useProducts"],[70,16,18,24],[71,0,18,24],[71,3]],"functionMap":{"names":["<global>","useProducts","useEffect$argument_0","fetchProducts","querySnapshot.forEach$argument_0","refetch"],"mappings":"AAA;2BCiB;YCK;GDE;wBEE;4BCwB;ODc;GFS;kBIE;GJE;CDG"},"hasCjsExports":false},"type":"js/module"}]}