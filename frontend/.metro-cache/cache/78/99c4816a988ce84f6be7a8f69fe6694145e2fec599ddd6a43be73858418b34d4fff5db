{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":87,"index":132}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":40,"index":173}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useProducts\", {\n    enumerable: true,\n    get: function () {\n      return useProducts;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _firebaseFirestore = require(_dependencyMap[1], \"firebase/firestore\");\n  var _configFirebase = require(_dependencyMap[2], \"../config/firebase\");\n  const useProducts = (categoryId, limitCount = 20) => {\n    _s();\n    const [products, setProducts] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [error, setError] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      fetchProducts();\n    }, [categoryId, limitCount]);\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        let q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n\n        // Filter by category if provided\n        if (categoryId && categoryId !== 'all') {\n          q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.where)('categoryId', '==', categoryId), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n        }\n        const querySnapshot = await (0, _firebaseFirestore.getDocs)(q);\n        const productsData = [];\n        querySnapshot.forEach(doc => {\n          const data = doc.data();\n\n          // Handle multi-language name\n          let productName = '';\n          if (typeof data.name === 'string') {\n            productName = data.name;\n          } else if (data.name && typeof data.name === 'object') {\n            productName = data.name.ar || data.name.en || data.name.ku || '';\n          }\n\n          // Handle multi-language description\n          let productDescription = '';\n          if (typeof data.description === 'string') {\n            productDescription = data.description;\n          } else if (data.description && typeof data.description === 'object') {\n            productDescription = data.description.ar || data.description.en || data.description.ku || '';\n          }\n          productsData.push({\n            id: doc.id,\n            name: productName,\n            imageUrl: data.imageUrl || data.images?.[0] || '',\n            wholesalePrice: data.wholesalePrice || 0,\n            tags: data.tags || [],\n            status: data.stock > 0 ? 'متوفر' : 'غير متوفر',\n            category: data.category,\n            stock: data.stock || 0,\n            minOrder: data.minOrder || 1,\n            description: productDescription\n          });\n        });\n        setProducts(productsData);\n      } catch (err) {\n        console.error('Error fetching products:', err);\n        setError(err.message || 'حدث خطأ في جلب المنتجات');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const refetch = () => {\n      fetchProducts();\n    };\n    return {\n      products,\n      loading,\n      error,\n      refetch\n    };\n  };\n  _s(useProducts, \"3+N/VFIgZOBgubN9oS5aTzm2qqY=\");\n});","lineCount":87,"map":[[8,2,18,0,"Object"],[8,8,18,0],[8,9,18,0,"defineProperty"],[8,23,18,0],[8,24,18,0,"exports"],[8,31,18,0],[9,4,18,0,"enumerable"],[9,14,18,0],[10,4,18,0,"get"],[10,7,18,0],[10,18,18,0,"get"],[10,19,18,0],[11,6,18,0],[11,13,18,0,"useProducts"],[11,24,18,0],[12,4,18,0],[13,2,18,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_firebaseFirestore"],[15,24,2,0],[15,27,2,0,"require"],[15,34,2,0],[15,35,2,0,"_dependencyMap"],[15,49,2,0],[16,2,3,0],[16,6,3,0,"_configFirebase"],[16,21,3,0],[16,24,3,0,"require"],[16,31,3,0],[16,32,3,0,"_dependencyMap"],[16,46,3,0],[17,2,18,7],[17,8,18,13,"useProducts"],[17,19,18,24],[17,22,18,27,"useProducts"],[17,23,18,28,"categoryId"],[17,33,18,47],[17,35,18,49,"limitCount"],[17,45,18,67],[17,48,18,70],[17,50,18,72],[17,55,18,77],[18,4,18,77,"_s"],[18,6,18,77],[19,4,19,2],[19,10,19,8],[19,11,19,9,"products"],[19,19,19,17],[19,21,19,19,"setProducts"],[19,32,19,30],[19,33,19,31],[19,36,19,34],[19,40,19,34,"useState"],[19,46,19,42],[19,47,19,42,"useState"],[19,55,19,42],[19,57,19,54],[19,59,19,56],[19,60,19,57],[20,4,20,2],[20,10,20,8],[20,11,20,9,"loading"],[20,18,20,16],[20,20,20,18,"setLoading"],[20,30,20,28],[20,31,20,29],[20,34,20,32],[20,38,20,32,"useState"],[20,44,20,40],[20,45,20,40,"useState"],[20,53,20,40],[20,55,20,41],[20,59,20,45],[20,60,20,46],[21,4,21,2],[21,10,21,8],[21,11,21,9,"error"],[21,16,21,14],[21,18,21,16,"setError"],[21,26,21,24],[21,27,21,25],[21,30,21,28],[21,34,21,28,"useState"],[21,40,21,36],[21,41,21,36,"useState"],[21,49,21,36],[21,51,21,52],[21,55,21,56],[21,56,21,57],[22,4,23,2],[22,8,23,2,"useEffect"],[22,14,23,11],[22,15,23,11,"useEffect"],[22,24,23,11],[22,26,23,12],[22,32,23,18],[23,6,24,4,"fetchProducts"],[23,19,24,17],[23,20,24,18],[23,21,24,19],[24,4,25,2],[24,5,25,3],[24,7,25,5],[24,8,25,6,"categoryId"],[24,18,25,16],[24,20,25,18,"limitCount"],[24,30,25,28],[24,31,25,29],[24,32,25,30],[25,4,27,2],[25,10,27,8,"fetchProducts"],[25,23,27,21],[25,26,27,24],[25,32,27,24,"fetchProducts"],[25,33,27,24],[25,38,27,36],[26,6,28,4],[26,10,28,8],[27,8,29,6,"setLoading"],[27,18,29,16],[27,19,29,17],[27,23,29,21],[27,24,29,22],[28,8,30,6,"setError"],[28,16,30,14],[28,17,30,15],[28,21,30,19],[28,22,30,20],[29,8,32,6],[29,12,32,10,"q"],[29,13,32,11],[29,16,32,14],[29,20,32,14,"query"],[29,38,32,19],[29,39,32,19,"query"],[29,44,32,19],[29,46,33,8],[29,50,33,8,"collection"],[29,68,33,18],[29,69,33,18,"collection"],[29,79,33,18],[29,81,33,19,"db"],[29,96,33,21],[29,97,33,21,"db"],[29,99,33,21],[29,101,33,23],[29,111,33,33],[29,112,33,34],[29,114,34,8],[29,118,34,8,"orderBy"],[29,136,34,15],[29,137,34,15,"orderBy"],[29,144,34,15],[29,146,34,16],[29,157,34,27],[29,159,34,29],[29,165,34,35],[29,166,34,36],[29,168,35,8],[29,172,35,8,"limit"],[29,190,35,13],[29,191,35,13,"limit"],[29,196,35,13],[29,198,35,14,"limitCount"],[29,208,35,24],[29,209,36,6],[29,210,36,7],[31,8,38,6],[32,8,39,6],[32,12,39,10,"categoryId"],[32,22,39,20],[32,26,39,24,"categoryId"],[32,36,39,34],[32,41,39,39],[32,46,39,44],[32,48,39,46],[33,10,40,8,"q"],[33,11,40,9],[33,14,40,12],[33,18,40,12,"query"],[33,36,40,17],[33,37,40,17,"query"],[33,42,40,17],[33,44,41,10],[33,48,41,10,"collection"],[33,66,41,20],[33,67,41,20,"collection"],[33,77,41,20],[33,79,41,21,"db"],[33,94,41,23],[33,95,41,23,"db"],[33,97,41,23],[33,99,41,25],[33,109,41,35],[33,110,41,36],[33,112,42,10],[33,116,42,10,"where"],[33,134,42,15],[33,135,42,15,"where"],[33,140,42,15],[33,142,42,16],[33,154,42,28],[33,156,42,30],[33,160,42,34],[33,162,42,36,"categoryId"],[33,172,42,46],[33,173,42,47],[33,175,43,10],[33,179,43,10,"orderBy"],[33,197,43,17],[33,198,43,17,"orderBy"],[33,205,43,17],[33,207,43,18],[33,218,43,29],[33,220,43,31],[33,226,43,37],[33,227,43,38],[33,229,44,10],[33,233,44,10,"limit"],[33,251,44,15],[33,252,44,15,"limit"],[33,257,44,15],[33,259,44,16,"limitCount"],[33,269,44,26],[33,270,45,8],[33,271,45,9],[34,8,46,6],[35,8,48,6],[35,14,48,12,"querySnapshot"],[35,27,48,25],[35,30,48,28],[35,36,48,34],[35,40,48,34,"getDocs"],[35,58,48,41],[35,59,48,41,"getDocs"],[35,66,48,41],[35,68,48,42,"q"],[35,69,48,43],[35,70,48,44],[36,8,49,6],[36,14,49,12,"productsData"],[36,26,49,35],[36,29,49,38],[36,31,49,40],[37,8,51,6,"querySnapshot"],[37,21,51,19],[37,22,51,20,"forEach"],[37,29,51,27],[37,30,51,29,"doc"],[37,33,51,32],[37,37,51,37],[38,10,52,8],[38,16,52,14,"data"],[38,20,52,18],[38,23,52,21,"doc"],[38,26,52,24],[38,27,52,25,"data"],[38,31,52,29],[38,32,52,30],[38,33,52,31],[40,10,54,8],[41,10,55,8],[41,14,55,12,"productName"],[41,25,55,23],[41,28,55,26],[41,30,55,28],[42,10,56,8],[42,14,56,12],[42,21,56,19,"data"],[42,25,56,23],[42,26,56,24,"name"],[42,30,56,28],[42,35,56,33],[42,43,56,41],[42,45,56,43],[43,12,57,10,"productName"],[43,23,57,21],[43,26,57,24,"data"],[43,30,57,28],[43,31,57,29,"name"],[43,35,57,33],[44,10,58,8],[44,11,58,9],[44,17,58,15],[44,21,58,19,"data"],[44,25,58,23],[44,26,58,24,"name"],[44,30,58,28],[44,34,58,32],[44,41,58,39,"data"],[44,45,58,43],[44,46,58,44,"name"],[44,50,58,48],[44,55,58,53],[44,63,58,61],[44,65,58,63],[45,12,59,10,"productName"],[45,23,59,21],[45,26,59,24,"data"],[45,30,59,28],[45,31,59,29,"name"],[45,35,59,33],[45,36,59,34,"ar"],[45,38,59,36],[45,42,59,40,"data"],[45,46,59,44],[45,47,59,45,"name"],[45,51,59,49],[45,52,59,50,"en"],[45,54,59,52],[45,58,59,56,"data"],[45,62,59,60],[45,63,59,61,"name"],[45,67,59,65],[45,68,59,66,"ku"],[45,70,59,68],[45,74,59,72],[45,76,59,74],[46,10,60,8],[48,10,62,8],[49,10,63,8],[49,14,63,12,"productDescription"],[49,32,63,30],[49,35,63,33],[49,37,63,35],[50,10,64,8],[50,14,64,12],[50,21,64,19,"data"],[50,25,64,23],[50,26,64,24,"description"],[50,37,64,35],[50,42,64,40],[50,50,64,48],[50,52,64,50],[51,12,65,10,"productDescription"],[51,30,65,28],[51,33,65,31,"data"],[51,37,65,35],[51,38,65,36,"description"],[51,49,65,47],[52,10,66,8],[52,11,66,9],[52,17,66,15],[52,21,66,19,"data"],[52,25,66,23],[52,26,66,24,"description"],[52,37,66,35],[52,41,66,39],[52,48,66,46,"data"],[52,52,66,50],[52,53,66,51,"description"],[52,64,66,62],[52,69,66,67],[52,77,66,75],[52,79,66,77],[53,12,67,10,"productDescription"],[53,30,67,28],[53,33,67,31,"data"],[53,37,67,35],[53,38,67,36,"description"],[53,49,67,47],[53,50,67,48,"ar"],[53,52,67,50],[53,56,67,54,"data"],[53,60,67,58],[53,61,67,59,"description"],[53,72,67,70],[53,73,67,71,"en"],[53,75,67,73],[53,79,67,77,"data"],[53,83,67,81],[53,84,67,82,"description"],[53,95,67,93],[53,96,67,94,"ku"],[53,98,67,96],[53,102,67,100],[53,104,67,102],[54,10,68,8],[55,10,70,8,"productsData"],[55,22,70,20],[55,23,70,21,"push"],[55,27,70,25],[55,28,70,26],[56,12,71,10,"id"],[56,14,71,12],[56,16,71,14,"doc"],[56,19,71,17],[56,20,71,18,"id"],[56,22,71,20],[57,12,72,10,"name"],[57,16,72,14],[57,18,72,16,"productName"],[57,29,72,27],[58,12,73,10,"imageUrl"],[58,20,73,18],[58,22,73,20,"data"],[58,26,73,24],[58,27,73,25,"imageUrl"],[58,35,73,33],[58,39,73,37,"data"],[58,43,73,41],[58,44,73,42,"images"],[58,50,73,48],[58,53,73,51],[58,54,73,52],[58,55,73,53],[58,59,73,57],[58,61,73,59],[59,12,74,10,"wholesalePrice"],[59,26,74,24],[59,28,74,26,"data"],[59,32,74,30],[59,33,74,31,"wholesalePrice"],[59,47,74,45],[59,51,74,49],[59,52,74,50],[60,12,75,10,"tags"],[60,16,75,14],[60,18,75,16,"data"],[60,22,75,20],[60,23,75,21,"tags"],[60,27,75,25],[60,31,75,29],[60,33,75,31],[61,12,76,10,"status"],[61,18,76,16],[61,20,76,18,"data"],[61,24,76,22],[61,25,76,23,"stock"],[61,30,76,28],[61,33,76,31],[61,34,76,32],[61,37,76,35],[61,44,76,42],[61,47,76,45],[61,58,76,56],[62,12,77,10,"category"],[62,20,77,18],[62,22,77,20,"data"],[62,26,77,24],[62,27,77,25,"category"],[62,35,77,33],[63,12,78,10,"stock"],[63,17,78,15],[63,19,78,17,"data"],[63,23,78,21],[63,24,78,22,"stock"],[63,29,78,27],[63,33,78,31],[63,34,78,32],[64,12,79,10,"minOrder"],[64,20,79,18],[64,22,79,20,"data"],[64,26,79,24],[64,27,79,25,"minOrder"],[64,35,79,33],[64,39,79,37],[64,40,79,38],[65,12,80,10,"description"],[65,23,80,21],[65,25,80,23,"productDescription"],[66,10,81,8],[66,11,81,9],[66,12,81,10],[67,8,82,6],[67,9,82,7],[67,10,82,8],[68,8,84,6,"setProducts"],[68,19,84,17],[68,20,84,18,"productsData"],[68,32,84,30],[68,33,84,31],[69,6,85,4],[69,7,85,5],[69,8,85,6],[69,15,85,13,"err"],[69,18,85,21],[69,20,85,23],[70,8,86,6,"console"],[70,15,86,13],[70,16,86,14,"error"],[70,21,86,19],[70,22,86,20],[70,48,86,46],[70,50,86,48,"err"],[70,53,86,51],[70,54,86,52],[71,8,87,6,"setError"],[71,16,87,14],[71,17,87,15,"err"],[71,20,87,18],[71,21,87,19,"message"],[71,28,87,26],[71,32,87,30],[71,57,87,55],[71,58,87,56],[72,6,88,4],[72,7,88,5],[72,16,88,14],[73,8,89,6,"setLoading"],[73,18,89,16],[73,19,89,17],[73,24,89,22],[73,25,89,23],[74,6,90,4],[75,4,91,2],[75,5,91,3],[76,4,93,2],[76,10,93,8,"refetch"],[76,17,93,15],[76,20,93,18,"refetch"],[76,21,93,18],[76,26,93,24],[77,6,94,4,"fetchProducts"],[77,19,94,17],[77,20,94,18],[77,21,94,19],[78,4,95,2],[78,5,95,3],[79,4,97,2],[79,11,97,9],[80,6,97,11,"products"],[80,14,97,19],[81,6,97,21,"loading"],[81,13,97,28],[82,6,97,30,"error"],[82,11,97,35],[83,6,97,37,"refetch"],[84,4,97,45],[84,5,97,46],[85,2,98,0],[85,3,98,1],[86,2,98,2,"_s"],[86,4,98,2],[86,5,18,13,"useProducts"],[86,16,18,24],[87,0,18,24],[87,3]],"functionMap":{"names":["<global>","useProducts","useEffect$argument_0","fetchProducts","querySnapshot.forEach$argument_0","refetch"],"mappings":"AAA;2BCiB;YCK;GDE;wBEE;4BCwB;OD+B;GFS;kBIE;GJE;CDG"},"hasCjsExports":false},"type":"js/module"}]}