{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":87,"index":132}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":40,"index":173}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useProducts\", {\n    enumerable: true,\n    get: function () {\n      return useProducts;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _firebaseFirestore = require(_dependencyMap[1], \"firebase/firestore\");\n  var _configFirebase = require(_dependencyMap[2], \"../config/firebase\");\n  const useProducts = (categoryId, limitCount = 20) => {\n    _s();\n    const [products, setProducts] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [error, setError] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      fetchProducts();\n    }, [categoryId, limitCount]);\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        let q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n\n        // Filter by category if provided\n        if (categoryId && categoryId !== 'all') {\n          q = (0, _firebaseFirestore.query)((0, _firebaseFirestore.collection)(_configFirebase.db, 'products'), (0, _firebaseFirestore.where)('categoryId', '==', categoryId), (0, _firebaseFirestore.orderBy)('createdAt', 'desc'), (0, _firebaseFirestore.limit)(limitCount));\n        }\n        const querySnapshot = await (0, _firebaseFirestore.getDocs)(q);\n        const productsData = [];\n        querySnapshot.forEach(doc => {\n          const data = doc.data();\n\n          // Handle multi-language name\n          let productName = '';\n          if (typeof data.name === 'string') {\n            productName = data.name;\n          } else if (data.name && typeof data.name === 'object') {\n            productName = data.name.ar || data.name.en || data.name.ku || '';\n          }\n\n          // Handle multi-language description\n          let productDescription = '';\n          if (typeof data.description === 'string') {\n            productDescription = data.description;\n          } else if (data.description && typeof data.description === 'object') {\n            productDescription = data.description.ar || data.description.en || data.description.ku || '';\n          }\n\n          // Get image URL - handle both single imageUrl and images array\n          let imageUrl = '';\n          if (data.imageUrl) {\n            imageUrl = data.imageUrl;\n          } else if (data.images && Array.isArray(data.images) && data.images.length > 0) {\n            imageUrl = data.images[0];\n          }\n\n          // Get status badge - use custom badge from Firebase or default based on stock\n          let statusText = '';\n          let statusBadge = data.badge; // Custom badge from Firebase (like \"حصري\", \"جديد\", etc.)\n\n          if (statusBadge && typeof statusBadge === 'object') {\n            // Handle multi-language badge\n            statusText = statusBadge.ar || statusBadge.en || statusBadge.ku || '';\n          } else if (typeof statusBadge === 'string') {\n            statusText = statusBadge;\n          } else {\n            // Default status based on stock\n            const stock = data.stock || 0;\n            if (stock > 20) {\n              statusText = 'متوفر';\n            } else if (stock > 0) {\n              statusText = 'كمية محدودة';\n            } else {\n              statusText = 'غير متوفر';\n            }\n          }\n          productsData.push({\n            id: doc.id,\n            name: productName,\n            imageUrl: imageUrl,\n            wholesalePrice: data.wholesalePrice || 0,\n            tags: data.tags || [],\n            status: statusText,\n            category: data.category,\n            stock: data.stock || 0,\n            minOrder: data.minOrder || 1,\n            description: productDescription\n          });\n        });\n        setProducts(productsData);\n      } catch (err) {\n        console.error('Error fetching products:', err);\n        setError(err.message || 'حدث خطأ في جلب المنتجات');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const refetch = () => {\n      fetchProducts();\n    };\n    return {\n      products,\n      loading,\n      error,\n      refetch\n    };\n  };\n  _s(useProducts, \"3+N/VFIgZOBgubN9oS5aTzm2qqY=\");\n});","lineCount":116,"map":[[8,2,18,0,"Object"],[8,8,18,0],[8,9,18,0,"defineProperty"],[8,23,18,0],[8,24,18,0,"exports"],[8,31,18,0],[9,4,18,0,"enumerable"],[9,14,18,0],[10,4,18,0,"get"],[10,7,18,0],[10,18,18,0,"get"],[10,19,18,0],[11,6,18,0],[11,13,18,0,"useProducts"],[11,24,18,0],[12,4,18,0],[13,2,18,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_firebaseFirestore"],[15,24,2,0],[15,27,2,0,"require"],[15,34,2,0],[15,35,2,0,"_dependencyMap"],[15,49,2,0],[16,2,3,0],[16,6,3,0,"_configFirebase"],[16,21,3,0],[16,24,3,0,"require"],[16,31,3,0],[16,32,3,0,"_dependencyMap"],[16,46,3,0],[17,2,18,7],[17,8,18,13,"useProducts"],[17,19,18,24],[17,22,18,27,"useProducts"],[17,23,18,28,"categoryId"],[17,33,18,47],[17,35,18,49,"limitCount"],[17,45,18,67],[17,48,18,70],[17,50,18,72],[17,55,18,77],[18,4,18,77,"_s"],[18,6,18,77],[19,4,19,2],[19,10,19,8],[19,11,19,9,"products"],[19,19,19,17],[19,21,19,19,"setProducts"],[19,32,19,30],[19,33,19,31],[19,36,19,34],[19,40,19,34,"useState"],[19,46,19,42],[19,47,19,42,"useState"],[19,55,19,42],[19,57,19,54],[19,59,19,56],[19,60,19,57],[20,4,20,2],[20,10,20,8],[20,11,20,9,"loading"],[20,18,20,16],[20,20,20,18,"setLoading"],[20,30,20,28],[20,31,20,29],[20,34,20,32],[20,38,20,32,"useState"],[20,44,20,40],[20,45,20,40,"useState"],[20,53,20,40],[20,55,20,41],[20,59,20,45],[20,60,20,46],[21,4,21,2],[21,10,21,8],[21,11,21,9,"error"],[21,16,21,14],[21,18,21,16,"setError"],[21,26,21,24],[21,27,21,25],[21,30,21,28],[21,34,21,28,"useState"],[21,40,21,36],[21,41,21,36,"useState"],[21,49,21,36],[21,51,21,52],[21,55,21,56],[21,56,21,57],[22,4,23,2],[22,8,23,2,"useEffect"],[22,14,23,11],[22,15,23,11,"useEffect"],[22,24,23,11],[22,26,23,12],[22,32,23,18],[23,6,24,4,"fetchProducts"],[23,19,24,17],[23,20,24,18],[23,21,24,19],[24,4,25,2],[24,5,25,3],[24,7,25,5],[24,8,25,6,"categoryId"],[24,18,25,16],[24,20,25,18,"limitCount"],[24,30,25,28],[24,31,25,29],[24,32,25,30],[25,4,27,2],[25,10,27,8,"fetchProducts"],[25,23,27,21],[25,26,27,24],[25,32,27,24,"fetchProducts"],[25,33,27,24],[25,38,27,36],[26,6,28,4],[26,10,28,8],[27,8,29,6,"setLoading"],[27,18,29,16],[27,19,29,17],[27,23,29,21],[27,24,29,22],[28,8,30,6,"setError"],[28,16,30,14],[28,17,30,15],[28,21,30,19],[28,22,30,20],[29,8,32,6],[29,12,32,10,"q"],[29,13,32,11],[29,16,32,14],[29,20,32,14,"query"],[29,38,32,19],[29,39,32,19,"query"],[29,44,32,19],[29,46,33,8],[29,50,33,8,"collection"],[29,68,33,18],[29,69,33,18,"collection"],[29,79,33,18],[29,81,33,19,"db"],[29,96,33,21],[29,97,33,21,"db"],[29,99,33,21],[29,101,33,23],[29,111,33,33],[29,112,33,34],[29,114,34,8],[29,118,34,8,"orderBy"],[29,136,34,15],[29,137,34,15,"orderBy"],[29,144,34,15],[29,146,34,16],[29,157,34,27],[29,159,34,29],[29,165,34,35],[29,166,34,36],[29,168,35,8],[29,172,35,8,"limit"],[29,190,35,13],[29,191,35,13,"limit"],[29,196,35,13],[29,198,35,14,"limitCount"],[29,208,35,24],[29,209,36,6],[29,210,36,7],[31,8,38,6],[32,8,39,6],[32,12,39,10,"categoryId"],[32,22,39,20],[32,26,39,24,"categoryId"],[32,36,39,34],[32,41,39,39],[32,46,39,44],[32,48,39,46],[33,10,40,8,"q"],[33,11,40,9],[33,14,40,12],[33,18,40,12,"query"],[33,36,40,17],[33,37,40,17,"query"],[33,42,40,17],[33,44,41,10],[33,48,41,10,"collection"],[33,66,41,20],[33,67,41,20,"collection"],[33,77,41,20],[33,79,41,21,"db"],[33,94,41,23],[33,95,41,23,"db"],[33,97,41,23],[33,99,41,25],[33,109,41,35],[33,110,41,36],[33,112,42,10],[33,116,42,10,"where"],[33,134,42,15],[33,135,42,15,"where"],[33,140,42,15],[33,142,42,16],[33,154,42,28],[33,156,42,30],[33,160,42,34],[33,162,42,36,"categoryId"],[33,172,42,46],[33,173,42,47],[33,175,43,10],[33,179,43,10,"orderBy"],[33,197,43,17],[33,198,43,17,"orderBy"],[33,205,43,17],[33,207,43,18],[33,218,43,29],[33,220,43,31],[33,226,43,37],[33,227,43,38],[33,229,44,10],[33,233,44,10,"limit"],[33,251,44,15],[33,252,44,15,"limit"],[33,257,44,15],[33,259,44,16,"limitCount"],[33,269,44,26],[33,270,45,8],[33,271,45,9],[34,8,46,6],[35,8,48,6],[35,14,48,12,"querySnapshot"],[35,27,48,25],[35,30,48,28],[35,36,48,34],[35,40,48,34,"getDocs"],[35,58,48,41],[35,59,48,41,"getDocs"],[35,66,48,41],[35,68,48,42,"q"],[35,69,48,43],[35,70,48,44],[36,8,49,6],[36,14,49,12,"productsData"],[36,26,49,35],[36,29,49,38],[36,31,49,40],[37,8,51,6,"querySnapshot"],[37,21,51,19],[37,22,51,20,"forEach"],[37,29,51,27],[37,30,51,29,"doc"],[37,33,51,32],[37,37,51,37],[38,10,52,8],[38,16,52,14,"data"],[38,20,52,18],[38,23,52,21,"doc"],[38,26,52,24],[38,27,52,25,"data"],[38,31,52,29],[38,32,52,30],[38,33,52,31],[40,10,54,8],[41,10,55,8],[41,14,55,12,"productName"],[41,25,55,23],[41,28,55,26],[41,30,55,28],[42,10,56,8],[42,14,56,12],[42,21,56,19,"data"],[42,25,56,23],[42,26,56,24,"name"],[42,30,56,28],[42,35,56,33],[42,43,56,41],[42,45,56,43],[43,12,57,10,"productName"],[43,23,57,21],[43,26,57,24,"data"],[43,30,57,28],[43,31,57,29,"name"],[43,35,57,33],[44,10,58,8],[44,11,58,9],[44,17,58,15],[44,21,58,19,"data"],[44,25,58,23],[44,26,58,24,"name"],[44,30,58,28],[44,34,58,32],[44,41,58,39,"data"],[44,45,58,43],[44,46,58,44,"name"],[44,50,58,48],[44,55,58,53],[44,63,58,61],[44,65,58,63],[45,12,59,10,"productName"],[45,23,59,21],[45,26,59,24,"data"],[45,30,59,28],[45,31,59,29,"name"],[45,35,59,33],[45,36,59,34,"ar"],[45,38,59,36],[45,42,59,40,"data"],[45,46,59,44],[45,47,59,45,"name"],[45,51,59,49],[45,52,59,50,"en"],[45,54,59,52],[45,58,59,56,"data"],[45,62,59,60],[45,63,59,61,"name"],[45,67,59,65],[45,68,59,66,"ku"],[45,70,59,68],[45,74,59,72],[45,76,59,74],[46,10,60,8],[48,10,62,8],[49,10,63,8],[49,14,63,12,"productDescription"],[49,32,63,30],[49,35,63,33],[49,37,63,35],[50,10,64,8],[50,14,64,12],[50,21,64,19,"data"],[50,25,64,23],[50,26,64,24,"description"],[50,37,64,35],[50,42,64,40],[50,50,64,48],[50,52,64,50],[51,12,65,10,"productDescription"],[51,30,65,28],[51,33,65,31,"data"],[51,37,65,35],[51,38,65,36,"description"],[51,49,65,47],[52,10,66,8],[52,11,66,9],[52,17,66,15],[52,21,66,19,"data"],[52,25,66,23],[52,26,66,24,"description"],[52,37,66,35],[52,41,66,39],[52,48,66,46,"data"],[52,52,66,50],[52,53,66,51,"description"],[52,64,66,62],[52,69,66,67],[52,77,66,75],[52,79,66,77],[53,12,67,10,"productDescription"],[53,30,67,28],[53,33,67,31,"data"],[53,37,67,35],[53,38,67,36,"description"],[53,49,67,47],[53,50,67,48,"ar"],[53,52,67,50],[53,56,67,54,"data"],[53,60,67,58],[53,61,67,59,"description"],[53,72,67,70],[53,73,67,71,"en"],[53,75,67,73],[53,79,67,77,"data"],[53,83,67,81],[53,84,67,82,"description"],[53,95,67,93],[53,96,67,94,"ku"],[53,98,67,96],[53,102,67,100],[53,104,67,102],[54,10,68,8],[56,10,70,8],[57,10,71,8],[57,14,71,12,"imageUrl"],[57,22,71,20],[57,25,71,23],[57,27,71,25],[58,10,72,8],[58,14,72,12,"data"],[58,18,72,16],[58,19,72,17,"imageUrl"],[58,27,72,25],[58,29,72,27],[59,12,73,10,"imageUrl"],[59,20,73,18],[59,23,73,21,"data"],[59,27,73,25],[59,28,73,26,"imageUrl"],[59,36,73,34],[60,10,74,8],[60,11,74,9],[60,17,74,15],[60,21,74,19,"data"],[60,25,74,23],[60,26,74,24,"images"],[60,32,74,30],[60,36,74,34,"Array"],[60,41,74,39],[60,42,74,40,"isArray"],[60,49,74,47],[60,50,74,48,"data"],[60,54,74,52],[60,55,74,53,"images"],[60,61,74,59],[60,62,74,60],[60,66,74,64,"data"],[60,70,74,68],[60,71,74,69,"images"],[60,77,74,75],[60,78,74,76,"length"],[60,84,74,82],[60,87,74,85],[60,88,74,86],[60,90,74,88],[61,12,75,10,"imageUrl"],[61,20,75,18],[61,23,75,21,"data"],[61,27,75,25],[61,28,75,26,"images"],[61,34,75,32],[61,35,75,33],[61,36,75,34],[61,37,75,35],[62,10,76,8],[64,10,78,8],[65,10,79,8],[65,14,79,12,"statusText"],[65,24,79,22],[65,27,79,25],[65,29,79,27],[66,10,80,8],[66,14,80,12,"statusBadge"],[66,25,80,23],[66,28,80,26,"data"],[66,32,80,30],[66,33,80,31,"badge"],[66,38,80,36],[66,39,80,37],[66,40,80,38],[68,10,82,8],[68,14,82,12,"statusBadge"],[68,25,82,23],[68,29,82,27],[68,36,82,34,"statusBadge"],[68,47,82,45],[68,52,82,50],[68,60,82,58],[68,62,82,60],[69,12,83,10],[70,12,84,10,"statusText"],[70,22,84,20],[70,25,84,23,"statusBadge"],[70,36,84,34],[70,37,84,35,"ar"],[70,39,84,37],[70,43,84,41,"statusBadge"],[70,54,84,52],[70,55,84,53,"en"],[70,57,84,55],[70,61,84,59,"statusBadge"],[70,72,84,70],[70,73,84,71,"ku"],[70,75,84,73],[70,79,84,77],[70,81,84,79],[71,10,85,8],[71,11,85,9],[71,17,85,15],[71,21,85,19],[71,28,85,26,"statusBadge"],[71,39,85,37],[71,44,85,42],[71,52,85,50],[71,54,85,52],[72,12,86,10,"statusText"],[72,22,86,20],[72,25,86,23,"statusBadge"],[72,36,86,34],[73,10,87,8],[73,11,87,9],[73,17,87,15],[74,12,88,10],[75,12,89,10],[75,18,89,16,"stock"],[75,23,89,21],[75,26,89,24,"data"],[75,30,89,28],[75,31,89,29,"stock"],[75,36,89,34],[75,40,89,38],[75,41,89,39],[76,12,90,10],[76,16,90,14,"stock"],[76,21,90,19],[76,24,90,22],[76,26,90,24],[76,28,90,26],[77,14,91,12,"statusText"],[77,24,91,22],[77,27,91,25],[77,34,91,32],[78,12,92,10],[78,13,92,11],[78,19,92,17],[78,23,92,21,"stock"],[78,28,92,26],[78,31,92,29],[78,32,92,30],[78,34,92,32],[79,14,93,12,"statusText"],[79,24,93,22],[79,27,93,25],[79,40,93,38],[80,12,94,10],[80,13,94,11],[80,19,94,17],[81,14,95,12,"statusText"],[81,24,95,22],[81,27,95,25],[81,38,95,36],[82,12,96,10],[83,10,97,8],[84,10,99,8,"productsData"],[84,22,99,20],[84,23,99,21,"push"],[84,27,99,25],[84,28,99,26],[85,12,100,10,"id"],[85,14,100,12],[85,16,100,14,"doc"],[85,19,100,17],[85,20,100,18,"id"],[85,22,100,20],[86,12,101,10,"name"],[86,16,101,14],[86,18,101,16,"productName"],[86,29,101,27],[87,12,102,10,"imageUrl"],[87,20,102,18],[87,22,102,20,"imageUrl"],[87,30,102,28],[88,12,103,10,"wholesalePrice"],[88,26,103,24],[88,28,103,26,"data"],[88,32,103,30],[88,33,103,31,"wholesalePrice"],[88,47,103,45],[88,51,103,49],[88,52,103,50],[89,12,104,10,"tags"],[89,16,104,14],[89,18,104,16,"data"],[89,22,104,20],[89,23,104,21,"tags"],[89,27,104,25],[89,31,104,29],[89,33,104,31],[90,12,105,10,"status"],[90,18,105,16],[90,20,105,18,"statusText"],[90,30,105,28],[91,12,106,10,"category"],[91,20,106,18],[91,22,106,20,"data"],[91,26,106,24],[91,27,106,25,"category"],[91,35,106,33],[92,12,107,10,"stock"],[92,17,107,15],[92,19,107,17,"data"],[92,23,107,21],[92,24,107,22,"stock"],[92,29,107,27],[92,33,107,31],[92,34,107,32],[93,12,108,10,"minOrder"],[93,20,108,18],[93,22,108,20,"data"],[93,26,108,24],[93,27,108,25,"minOrder"],[93,35,108,33],[93,39,108,37],[93,40,108,38],[94,12,109,10,"description"],[94,23,109,21],[94,25,109,23,"productDescription"],[95,10,110,8],[95,11,110,9],[95,12,110,10],[96,8,111,6],[96,9,111,7],[96,10,111,8],[97,8,113,6,"setProducts"],[97,19,113,17],[97,20,113,18,"productsData"],[97,32,113,30],[97,33,113,31],[98,6,114,4],[98,7,114,5],[98,8,114,6],[98,15,114,13,"err"],[98,18,114,21],[98,20,114,23],[99,8,115,6,"console"],[99,15,115,13],[99,16,115,14,"error"],[99,21,115,19],[99,22,115,20],[99,48,115,46],[99,50,115,48,"err"],[99,53,115,51],[99,54,115,52],[100,8,116,6,"setError"],[100,16,116,14],[100,17,116,15,"err"],[100,20,116,18],[100,21,116,19,"message"],[100,28,116,26],[100,32,116,30],[100,57,116,55],[100,58,116,56],[101,6,117,4],[101,7,117,5],[101,16,117,14],[102,8,118,6,"setLoading"],[102,18,118,16],[102,19,118,17],[102,24,118,22],[102,25,118,23],[103,6,119,4],[104,4,120,2],[104,5,120,3],[105,4,122,2],[105,10,122,8,"refetch"],[105,17,122,15],[105,20,122,18,"refetch"],[105,21,122,18],[105,26,122,24],[106,6,123,4,"fetchProducts"],[106,19,123,17],[106,20,123,18],[106,21,123,19],[107,4,124,2],[107,5,124,3],[108,4,126,2],[108,11,126,9],[109,6,126,11,"products"],[109,14,126,19],[110,6,126,21,"loading"],[110,13,126,28],[111,6,126,30,"error"],[111,11,126,35],[112,6,126,37,"refetch"],[113,4,126,45],[113,5,126,46],[114,2,127,0],[114,3,127,1],[115,2,127,2,"_s"],[115,4,127,2],[115,5,18,13,"useProducts"],[115,16,18,24],[116,0,18,24],[116,3]],"functionMap":{"names":["<global>","useProducts","useEffect$argument_0","fetchProducts","querySnapshot.forEach$argument_0","refetch"],"mappings":"AAA;2BCiB;YCK;GDE;wBEE;4BCwB;OD4D;GFS;kBIE;GJE;CDG"},"hasCjsExports":false},"type":"js/module"}]}