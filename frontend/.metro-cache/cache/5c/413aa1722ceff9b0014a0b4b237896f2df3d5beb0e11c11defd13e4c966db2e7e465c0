{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/CartContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"CartProvider\", {\n    enumerable: true,\n    get: function () {\n      return CartProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useCart\", {\n    enumerable: true,\n    get: function () {\n      return useCart;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const CartContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const CartProvider = ({\n    children\n  }) => {\n    const [items, setItems] = (0, _react.useState)([]);\n\n    // Load cart from storage on mount\n    (0, _react.useEffect)(() => {\n      loadCart();\n    }, []);\n\n    // Save cart to storage whenever it changes\n    (0, _react.useEffect)(() => {\n      saveCart();\n    }, [items]);\n    const loadCart = async () => {\n      try {\n        const cartData = await AsyncStorage.default.getItem('cart');\n        if (cartData) {\n          setItems(JSON.parse(cartData));\n        }\n      } catch (error) {\n        console.error('Error loading cart:', error);\n      }\n    };\n    const saveCart = async () => {\n      try {\n        await AsyncStorage.default.setItem('cart', JSON.stringify(items));\n      } catch (error) {\n        console.error('Error saving cart:', error);\n      }\n    };\n    const addToCart = item => {\n      setItems(prevItems => {\n        // Check if item already exists\n        const existingIndex = prevItems.findIndex(i => i.productId === item.productId && i.selectedVariant === item.selectedVariant && i.selectedSize === item.selectedSize);\n        if (existingIndex >= 0) {\n          // Update quantity if exists\n          const updatedItems = [...prevItems];\n          updatedItems[existingIndex].quantity += item.quantity;\n          return updatedItems;\n        } else {\n          // Add new item with unique ID\n          return [...prevItems, {\n            ...item,\n            id: Date.now().toString()\n          }];\n        }\n      });\n    };\n    const removeFromCart = id => {\n      setItems(prevItems => prevItems.filter(item => item.id !== id));\n    };\n    const updateQuantity = (id, quantity) => {\n      if (quantity < 1) {\n        removeFromCart(id);\n        return;\n      }\n      setItems(prevItems => prevItems.map(item => item.id === id ? {\n        ...item,\n        quantity\n      } : item));\n    };\n    const updateSellingPrice = (id, price) => {\n      setItems(prevItems => prevItems.map(item => item.id === id ? {\n        ...item,\n        sellingPrice: price\n      } : item));\n    };\n    const clearCart = () => {\n      setItems([]);\n    };\n    const getTotalItems = () => {\n      return items.reduce((total, item) => total + item.quantity, 0);\n    };\n    const getWholesaleTotal = () => {\n      return items.reduce((total, item) => total + item.wholesalePrice * item.quantity, 0);\n    };\n    const getSellingTotal = () => {\n      return items.reduce((total, item) => total + item.sellingPrice * item.quantity, 0);\n    };\n    const getProfit = () => {\n      return getSellingTotal() - getWholesaleTotal();\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(CartContext.Provider, {\n      value: {\n        items,\n        addToCart,\n        removeFromCart,\n        updateQuantity,\n        updateSellingPrice,\n        clearCart,\n        getTotalItems,\n        getWholesaleTotal,\n        getSellingTotal,\n        getProfit\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }, this);\n  };\n  const useCart = () => {\n    const context = (0, _react.useContext)(CartContext);\n    if (!context) {\n      throw new Error('useCart must be used within CartProvider');\n    }\n    return context;\n  };\n});","lineCount":140,"map":[[13,2,33,0,"Object"],[13,8,33,0],[13,9,33,0,"defineProperty"],[13,23,33,0],[13,24,33,0,"exports"],[13,31,33,0],[14,4,33,0,"enumerable"],[14,14,33,0],[15,4,33,0,"get"],[15,7,33,0],[15,18,33,0,"get"],[15,19,33,0],[16,6,33,0],[16,13,33,0,"CartProvider"],[16,25,33,0],[17,4,33,0],[18,2,33,0],[19,2,150,0,"Object"],[19,8,150,0],[19,9,150,0,"defineProperty"],[19,23,150,0],[19,24,150,0,"exports"],[19,31,150,0],[20,4,150,0,"enumerable"],[20,14,150,0],[21,4,150,0,"get"],[21,7,150,0],[21,18,150,0,"get"],[21,19,150,0],[22,6,150,0],[22,13,150,0,"useCart"],[22,20,150,0],[23,4,150,0],[24,2,150,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,2,69,"_reactJsxDevRuntime"],[28,25,2,69],[28,28,2,69,"require"],[28,35,2,69],[28,36,2,69,"_dependencyMap"],[28,50,2,69],[29,2,31,0],[29,8,31,6,"CartContext"],[29,19,31,17],[29,35,31,20],[29,39,31,20,"createContext"],[29,45,31,33],[29,46,31,33,"createContext"],[29,59,31,33],[29,61,31,63,"undefined"],[29,70,31,72],[29,71,31,73],[30,2,33,7],[30,8,33,13,"CartProvider"],[30,20,33,66],[30,23,33,69,"CartProvider"],[30,24,33,70],[31,4,33,72,"children"],[32,2,33,81],[32,3,33,82],[32,8,33,87],[33,4,34,2],[33,10,34,8],[33,11,34,9,"items"],[33,16,34,14],[33,18,34,16,"setItems"],[33,26,34,24],[33,27,34,25],[33,30,34,28],[33,34,34,28,"useState"],[33,40,34,36],[33,41,34,36,"useState"],[33,49,34,36],[33,51,34,49],[33,53,34,51],[33,54,34,52],[35,4,36,2],[36,4,37,2],[36,8,37,2,"useEffect"],[36,14,37,11],[36,15,37,11,"useEffect"],[36,24,37,11],[36,26,37,12],[36,32,37,18],[37,6,38,4,"loadCart"],[37,14,38,12],[37,15,38,13],[37,16,38,14],[38,4,39,2],[38,5,39,3],[38,7,39,5],[38,9,39,7],[38,10,39,8],[40,4,41,2],[41,4,42,2],[41,8,42,2,"useEffect"],[41,14,42,11],[41,15,42,11,"useEffect"],[41,24,42,11],[41,26,42,12],[41,32,42,18],[42,6,43,4,"saveCart"],[42,14,43,12],[42,15,43,13],[42,16,43,14],[43,4,44,2],[43,5,44,3],[43,7,44,5],[43,8,44,6,"items"],[43,13,44,11],[43,14,44,12],[43,15,44,13],[44,4,46,2],[44,10,46,8,"loadCart"],[44,18,46,16],[44,21,46,19],[44,27,46,19,"loadCart"],[44,28,46,19],[44,33,46,31],[45,6,47,4],[45,10,47,8],[46,8,48,6],[46,14,48,12,"cartData"],[46,22,48,20],[46,25,48,23],[46,31,48,29,"AsyncStorage"],[46,43,48,41],[46,44,48,41,"default"],[46,51,48,41],[46,52,48,42,"getItem"],[46,59,48,49],[46,60,48,50],[46,66,48,56],[46,67,48,57],[47,8,49,6],[47,12,49,10,"cartData"],[47,20,49,18],[47,22,49,20],[48,10,50,8,"setItems"],[48,18,50,16],[48,19,50,17,"JSON"],[48,23,50,21],[48,24,50,22,"parse"],[48,29,50,27],[48,30,50,28,"cartData"],[48,38,50,36],[48,39,50,37],[48,40,50,38],[49,8,51,6],[50,6,52,4],[50,7,52,5],[50,8,52,6],[50,15,52,13,"error"],[50,20,52,18],[50,22,52,20],[51,8,53,6,"console"],[51,15,53,13],[51,16,53,14,"error"],[51,21,53,19],[51,22,53,20],[51,43,53,41],[51,45,53,43,"error"],[51,50,53,48],[51,51,53,49],[52,6,54,4],[53,4,55,2],[53,5,55,3],[54,4,57,2],[54,10,57,8,"saveCart"],[54,18,57,16],[54,21,57,19],[54,27,57,19,"saveCart"],[54,28,57,19],[54,33,57,31],[55,6,58,4],[55,10,58,8],[56,8,59,6],[56,14,59,12,"AsyncStorage"],[56,26,59,24],[56,27,59,24,"default"],[56,34,59,24],[56,35,59,25,"setItem"],[56,42,59,32],[56,43,59,33],[56,49,59,39],[56,51,59,41,"JSON"],[56,55,59,45],[56,56,59,46,"stringify"],[56,65,59,55],[56,66,59,56,"items"],[56,71,59,61],[56,72,59,62],[56,73,59,63],[57,6,60,4],[57,7,60,5],[57,8,60,6],[57,15,60,13,"error"],[57,20,60,18],[57,22,60,20],[58,8,61,6,"console"],[58,15,61,13],[58,16,61,14,"error"],[58,21,61,19],[58,22,61,20],[58,42,61,40],[58,44,61,42,"error"],[58,49,61,47],[58,50,61,48],[59,6,62,4],[60,4,63,2],[60,5,63,3],[61,4,65,2],[61,10,65,8,"addToCart"],[61,19,65,17],[61,22,65,21,"item"],[61,26,65,35],[61,30,65,40],[62,6,66,4,"setItems"],[62,14,66,12],[62,15,66,14,"prevItems"],[62,24,66,23],[62,28,66,28],[63,8,67,6],[64,8,68,6],[64,14,68,12,"existingIndex"],[64,27,68,25],[64,30,68,28,"prevItems"],[64,39,68,37],[64,40,68,38,"findIndex"],[64,49,68,47],[64,50,69,9,"i"],[64,51,69,10],[64,55,69,15,"i"],[64,56,69,16],[64,57,69,17,"productId"],[64,66,69,26],[64,71,69,31,"item"],[64,75,69,35],[64,76,69,36,"productId"],[64,85,69,45],[64,89,70,15,"i"],[64,90,70,16],[64,91,70,17,"selectedVariant"],[64,106,70,32],[64,111,70,37,"item"],[64,115,70,41],[64,116,70,42,"selectedVariant"],[64,131,70,57],[64,135,71,15,"i"],[64,136,71,16],[64,137,71,17,"selectedSize"],[64,149,71,29],[64,154,71,34,"item"],[64,158,71,38],[64,159,71,39,"selectedSize"],[64,171,72,6],[64,172,72,7],[65,8,74,6],[65,12,74,10,"existingIndex"],[65,25,74,23],[65,29,74,27],[65,30,74,28],[65,32,74,30],[66,10,75,8],[67,10,76,8],[67,16,76,14,"updatedItems"],[67,28,76,26],[67,31,76,29],[67,32,76,30],[67,35,76,33,"prevItems"],[67,44,76,42],[67,45,76,43],[68,10,77,8,"updatedItems"],[68,22,77,20],[68,23,77,21,"existingIndex"],[68,36,77,34],[68,37,77,35],[68,38,77,36,"quantity"],[68,46,77,44],[68,50,77,48,"item"],[68,54,77,52],[68,55,77,53,"quantity"],[68,63,77,61],[69,10,78,8],[69,17,78,15,"updatedItems"],[69,29,78,27],[70,8,79,6],[70,9,79,7],[70,15,79,13],[71,10,80,8],[72,10,81,8],[72,17,81,15],[72,18,81,16],[72,21,81,19,"prevItems"],[72,30,81,28],[72,32,81,30],[73,12,81,32],[73,15,81,35,"item"],[73,19,81,39],[74,12,81,41,"id"],[74,14,81,43],[74,16,81,45,"Date"],[74,20,81,49],[74,21,81,50,"now"],[74,24,81,53],[74,25,81,54],[74,26,81,55],[74,27,81,56,"toString"],[74,35,81,64],[74,36,81,65],[75,10,81,67],[75,11,81,68],[75,12,81,69],[76,8,82,6],[77,6,83,4],[77,7,83,5],[77,8,83,6],[78,4,84,2],[78,5,84,3],[79,4,86,2],[79,10,86,8,"removeFromCart"],[79,24,86,22],[79,27,86,26,"id"],[79,29,86,36],[79,33,86,41],[80,6,87,4,"setItems"],[80,14,87,12],[80,15,87,14,"prevItems"],[80,24,87,23],[80,28,87,28,"prevItems"],[80,37,87,37],[80,38,87,38,"filter"],[80,44,87,44],[80,45,87,46,"item"],[80,49,87,50],[80,53,87,55,"item"],[80,57,87,59],[80,58,87,60,"id"],[80,60,87,62],[80,65,87,67,"id"],[80,67,87,69],[80,68,87,70],[80,69,87,71],[81,4,88,2],[81,5,88,3],[82,4,90,2],[82,10,90,8,"updateQuantity"],[82,24,90,22],[82,27,90,25,"updateQuantity"],[82,28,90,26,"id"],[82,30,90,36],[82,32,90,38,"quantity"],[82,40,90,54],[82,45,90,59],[83,6,91,4],[83,10,91,8,"quantity"],[83,18,91,16],[83,21,91,19],[83,22,91,20],[83,24,91,22],[84,8,92,6,"removeFromCart"],[84,22,92,20],[84,23,92,21,"id"],[84,25,92,23],[84,26,92,24],[85,8,93,6],[86,6,94,4],[87,6,95,4,"setItems"],[87,14,95,12],[87,15,95,14,"prevItems"],[87,24,95,23],[87,28,96,6,"prevItems"],[87,37,96,15],[87,38,96,16,"map"],[87,41,96,19],[87,42,96,21,"item"],[87,46,96,25],[87,50,97,8,"item"],[87,54,97,12],[87,55,97,13,"id"],[87,57,97,15],[87,62,97,20,"id"],[87,64,97,22],[87,67,97,25],[88,8,97,27],[88,11,97,30,"item"],[88,15,97,34],[89,8,97,36,"quantity"],[90,6,97,45],[90,7,97,46],[90,10,97,49,"item"],[90,14,98,6],[90,15,99,4],[90,16,99,5],[91,4,100,2],[91,5,100,3],[92,4,102,2],[92,10,102,8,"updateSellingPrice"],[92,28,102,26],[92,31,102,29,"updateSellingPrice"],[92,32,102,30,"id"],[92,34,102,40],[92,36,102,42,"price"],[92,41,102,55],[92,46,102,60],[93,6,103,4,"setItems"],[93,14,103,12],[93,15,103,14,"prevItems"],[93,24,103,23],[93,28,104,6,"prevItems"],[93,37,104,15],[93,38,104,16,"map"],[93,41,104,19],[93,42,104,21,"item"],[93,46,104,25],[93,50,105,8,"item"],[93,54,105,12],[93,55,105,13,"id"],[93,57,105,15],[93,62,105,20,"id"],[93,64,105,22],[93,67,105,25],[94,8,105,27],[94,11,105,30,"item"],[94,15,105,34],[95,8,105,36,"sellingPrice"],[95,20,105,48],[95,22,105,50,"price"],[96,6,105,56],[96,7,105,57],[96,10,105,60,"item"],[96,14,106,6],[96,15,107,4],[96,16,107,5],[97,4,108,2],[97,5,108,3],[98,4,110,2],[98,10,110,8,"clearCart"],[98,19,110,17],[98,22,110,20,"clearCart"],[98,23,110,20],[98,28,110,26],[99,6,111,4,"setItems"],[99,14,111,12],[99,15,111,13],[99,17,111,15],[99,18,111,16],[100,4,112,2],[100,5,112,3],[101,4,114,2],[101,10,114,8,"getTotalItems"],[101,23,114,21],[101,26,114,24,"getTotalItems"],[101,27,114,24],[101,32,114,30],[102,6,115,4],[102,13,115,11,"items"],[102,18,115,16],[102,19,115,17,"reduce"],[102,25,115,23],[102,26,115,24],[102,27,115,25,"total"],[102,32,115,30],[102,34,115,32,"item"],[102,38,115,36],[102,43,115,41,"total"],[102,48,115,46],[102,51,115,49,"item"],[102,55,115,53],[102,56,115,54,"quantity"],[102,64,115,62],[102,66,115,64],[102,67,115,65],[102,68,115,66],[103,4,116,2],[103,5,116,3],[104,4,118,2],[104,10,118,8,"getWholesaleTotal"],[104,27,118,25],[104,30,118,28,"getWholesaleTotal"],[104,31,118,28],[104,36,118,34],[105,6,119,4],[105,13,119,11,"items"],[105,18,119,16],[105,19,119,17,"reduce"],[105,25,119,23],[105,26,119,24],[105,27,119,25,"total"],[105,32,119,30],[105,34,119,32,"item"],[105,38,119,36],[105,43,119,41,"total"],[105,48,119,46],[105,51,119,50,"item"],[105,55,119,54],[105,56,119,55,"wholesalePrice"],[105,70,119,69],[105,73,119,72,"item"],[105,77,119,76],[105,78,119,77,"quantity"],[105,86,119,86],[105,88,119,88],[105,89,119,89],[105,90,119,90],[106,4,120,2],[106,5,120,3],[107,4,122,2],[107,10,122,8,"getSellingTotal"],[107,25,122,23],[107,28,122,26,"getSellingTotal"],[107,29,122,26],[107,34,122,32],[108,6,123,4],[108,13,123,11,"items"],[108,18,123,16],[108,19,123,17,"reduce"],[108,25,123,23],[108,26,123,24],[108,27,123,25,"total"],[108,32,123,30],[108,34,123,32,"item"],[108,38,123,36],[108,43,123,41,"total"],[108,48,123,46],[108,51,123,50,"item"],[108,55,123,54],[108,56,123,55,"sellingPrice"],[108,68,123,67],[108,71,123,70,"item"],[108,75,123,74],[108,76,123,75,"quantity"],[108,84,123,84],[108,86,123,86],[108,87,123,87],[108,88,123,88],[109,4,124,2],[109,5,124,3],[110,4,126,2],[110,10,126,8,"getProfit"],[110,19,126,17],[110,22,126,20,"getProfit"],[110,23,126,20],[110,28,126,26],[111,6,127,4],[111,13,127,11,"getSellingTotal"],[111,28,127,26],[111,29,127,27],[111,30,127,28],[111,33,127,31,"getWholesaleTotal"],[111,50,127,48],[111,51,127,49],[111,52,127,50],[112,4,128,2],[112,5,128,3],[113,4,130,2],[113,24,131,4],[113,28,131,4,"_reactJsxDevRuntime"],[113,47,131,4],[113,48,131,4,"jsxDEV"],[113,54,131,4],[113,56,131,5,"CartContext"],[113,67,131,16],[113,68,131,17,"Provider"],[113,76,131,25],[114,6,132,6,"value"],[114,11,132,11],[114,13,132,13],[115,8,133,8,"items"],[115,13,133,13],[116,8,134,8,"addToCart"],[116,17,134,17],[117,8,135,8,"removeFromCart"],[117,22,135,22],[118,8,136,8,"updateQuantity"],[118,22,136,22],[119,8,137,8,"updateSellingPrice"],[119,26,137,26],[120,8,138,8,"clearCart"],[120,17,138,17],[121,8,139,8,"getTotalItems"],[121,21,139,21],[122,8,140,8,"getWholesaleTotal"],[122,25,140,25],[123,8,141,8,"getSellingTotal"],[123,23,141,23],[124,8,142,8,"getProfit"],[125,6,143,6],[125,7,143,8],[126,6,143,8,"children"],[126,14,143,8],[126,16,145,7,"children"],[127,4,145,15],[128,6,145,15,"fileName"],[128,14,145,15],[128,16,145,15,"_jsxFileName"],[128,28,145,15],[129,6,145,15,"lineNumber"],[129,16,145,15],[130,6,145,15,"columnNumber"],[130,18,145,15],[131,4,145,15],[131,11,146,26],[131,12,146,27],[132,2,148,0],[132,3,148,1],[133,2,150,7],[133,8,150,13,"useCart"],[133,15,150,20],[133,18,150,23,"useCart"],[133,19,150,23],[133,24,150,29],[134,4,151,2],[134,10,151,8,"context"],[134,17,151,15],[134,20,151,18],[134,24,151,18,"useContext"],[134,30,151,28],[134,31,151,28,"useContext"],[134,41,151,28],[134,43,151,29,"CartContext"],[134,54,151,40],[134,55,151,41],[135,4,152,2],[135,8,152,6],[135,9,152,7,"context"],[135,16,152,14],[135,18,152,16],[136,6,153,4],[136,12,153,10],[136,16,153,14,"Error"],[136,21,153,19],[136,22,153,20],[136,64,153,62],[136,65,153,63],[137,4,154,2],[138,4,155,2],[138,11,155,9,"context"],[138,18,155,16],[139,2,156,0],[139,3,156,1],[140,0,156,2],[140,3]],"functionMap":{"names":["<global>","CartProvider","useEffect$argument_0","loadCart","saveCart","addToCart","setItems$argument_0","prevItems.findIndex$argument_0","removeFromCart","prevItems.filter$argument_0","updateQuantity","prevItems.map$argument_0","updateSellingPrice","clearCart","getTotalItems","items.reduce$argument_0","getWholesaleTotal","getSellingTotal","getProfit","useCart"],"mappings":"AAA;qECgC;YCI;GDE;YCG;GDE;mBEE;GFS;mBGE;GHM;oBIE;aCC;QCG;mDDE;KDY;GJC;yBOE;aFC,gCG,wBH,CE;GPC;yBSE;aJK;oBKC;qDLC;OIC;GTE;6BWE;aNC;oBKC;gELC;OMC;GXE;oBYE;GZE;wBaE;wBCC,sCD;GbC;4BeE;wBDC,8DC;GfC;0BgBE;wBFC,4DE;GhBC;oBiBE;GjBE;CDoB;uBmBE;CnBM"},"hasCjsExports":false},"type":"js/module"}]}